"use strict";(globalThis["webpackChunkofs_2_0"]=globalThis["webpackChunkofs_2_0"]||[]).push([[222],{3222:(s,a,e)=>{e.r(a),e.d(a,{default:()=>T});var l=e(9835),t=e(6970);const o={class:"q-pa-md row",style:{"margin-left":"15px","margin-right":"15px","padding-left":"0px","border-bottom":"2px solid #DEDEDE"}},d=(0,l._)("div",{class:"col-6"},[(0,l._)("div",{style:{"font-size":"20px"}},[(0,l._)("b",null,"Change Password")])],-1),r={class:"col-6"},i={style:{"font-size":"15px","text-align":"right"}},n=(0,l._)("b",null,"Date: ",-1),u={class:"items-start q-pa-md row"},w={class:"col-sm-12 col-xs-6 q-pa-sm"},c={class:"col-sm-12 col-xs-6 q-pa-sm"},g={class:"col-sm-12 col-xs-6 q-pa-sm"},p={class:"col-sm-12 col-xs-6 q-pa-sm"},m={class:"text-h6"},h={class:"text-h6"};function _(s,a,e,_,f,P){const x=(0,l.up)("q-input"),y=(0,l.up)("q-btn"),b=(0,l.up)("q-form"),q=(0,l.up)("q-card-section"),v=(0,l.up)("q-card-actions"),C=(0,l.up)("q-card"),k=(0,l.up)("q-dialog"),W=(0,l.up)("q-page"),D=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(W,{style:{"max-height":"90vh",overflow:"auto"}},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("div",o,[d,(0,l._)("div",r,[(0,l._)("div",i,[n,(0,l.Uk)(" "+(0,t.zw)(this.today),1)])])])]),(0,l.Wm)(b,{onSubmit:s.processChangePassword,class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",w,[(0,l.Wm)(x,{filled:"",modelValue:s.currentPassword,"onUpdate:modelValue":a[0]||(a[0]=a=>s.currentPassword=a),type:"password","lazy-rules":"",label:"Current Password",style:{"max-width":"300px"},rules:s.passwordRules},null,8,["modelValue","rules"])]),(0,l._)("div",c,[(0,l.Wm)(x,{filled:"",modelValue:s.newPassword,"onUpdate:modelValue":a[1]||(a[1]=a=>s.newPassword=a),type:"password","lazy-rules":"",label:"New Password",style:{"max-width":"300px"},rules:s.passwordRules},null,8,["modelValue","rules"])]),(0,l._)("div",g,[(0,l.Wm)(x,{filled:"",modelValue:s.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=a=>s.confirmPassword=a),type:"password","lazy-rules":"",label:"Re-type new Password",style:{"max-width":"300px"},rules:s.passwordRules},null,8,["modelValue","rules"])]),(0,l._)("div",p,[(0,l.Wm)(y,{color:"primary",label:"Submit","no-caps":"",type:"submit",style:{"min-width":"150px"}})])])])),_:1},8,["onSubmit"]),(0,l.Wm)(k,{modelValue:s.showDialog,"onUpdate:modelValue":a[3]||(a[3]=a=>s.showDialog=a),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[1!=s.dialogStatus?((0,l.wg)(),(0,l.j4)(C,{key:0,class:"bg-green text-white",style:{width:"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l._)("div",m,(0,t.zw)(this.dialogTitle),1)])),_:1}),(0,l.Wm)(q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(this.dialogMsg),1)])),_:1}),(0,l.Wm)(v,{align:"right",class:"bg-white text-black"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(y,{flat:"",label:"OK"},null,512),[[D]])])),_:1})])),_:1})):(0,l.kq)("",!0),1==s.dialogStatus?((0,l.wg)(),(0,l.j4)(C,{key:1,class:"bg-red text-white",style:{width:"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l._)("div",h,(0,t.zw)(this.dialogTitle),1)])),_:1}),(0,l.Wm)(q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(this.dialogMsg),1)])),_:1}),(0,l.Wm)(v,{align:"right",class:"bg-white text-black"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(y,{flat:"",label:"OK"},null,512),[[D]])])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:1},8,["modelValue"])])),_:1})}var f=e(3100),P=new Date,x=P.getFullYear()+"-"+(P.getMonth()+1)+"-"+P.getDate();const y=(0,l.aZ)({name:"ChangePassword",async beforeMount(){},computed:{...(0,f.Se)("ChangePassword",{ChangeResult:"GET_CHANGE_RESULT",loading:"GET_LOADING"})},methods:{...(0,f.nv)("ChangePassword",["changePassword"]),async processChangePassword(){console.log("pumasok"),this.newPassword!=this.confirmPassword?console.log("password not matching"):await this.changePassword({currentPassword:this.currentPassword,newPassword:this.newPassword}).then((()=>{console.log(this.ChangeResult),this.dialogMsg=this.ChangeResult.data.msg,this.showDialog=!0,this.dialogStatus=this.ChangeResult.data.error}))}},data(){return{currentPassword:"",newPassword:"",confirmPassword:"",currentPasswordCheck:!1,today:x,dialogMsg:"",dialogTitle:"",dialogStatus:!0,showDialog:!1,passwordRules:[s=>null!==s&&""!==s||"Required Field"]}}});var b=e(1639),q=e(9885),v=e(8326),C=e(6611),k=e(4455),W=e(2074),D=e(4458),V=e(3190),R=e(1821),Z=e(2146),z=e(9984),S=e.n(z);const Q=(0,b.Z)(y,[["render",_]]),T=Q;S()(y,"components",{QPage:q.Z,QForm:v.Z,QInput:C.Z,QBtn:k.Z,QDialog:W.Z,QCard:D.Z,QCardSection:V.Z,QCardActions:R.Z}),S()(y,"directives",{ClosePopup:Z.Z})}}]);