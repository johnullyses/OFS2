(self["webpackChunkofs_2_0"]=self["webpackChunkofs_2_0"]||[]).push([[523],{9251:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>so});l(246);var r=l(3673),o=l(2323);const a=e=>((0,r.dD)("data-v-fb6a44da"),e=e(),(0,r.Cn)(),e),i={class:"q-pa-lg",style:{"padding-right":"0px"}},t={class:"q-pa-md row order-header"},d={class:"col-md-10 col-sm-9 col-xs-12"},c=a((()=>(0,r._)("b",null,"Store Name:",-1))),n={class:"col-md-2 col-sm-3 col-xs-12"},_=a((()=>(0,r._)("b",null,"Date:",-1))),u={class:"col-md-3 col-sm-5 col-xs-12"},m=a((()=>(0,r._)("div",{class:"col-9 row",style:{"padding-left":"10px"}},[(0,r._)("div",{class:"col-3"}),(0,r._)("div",{class:"col-9"})],-1))),p={class:"row"},h={key:0,class:"q-pa-sm col-md-3 col-sm-5 col-xs-12 order-cards"},w=["onClickCapture"],v={class:"row"},g={class:"col"},b={class:"row"},k={class:"col-7"},f={class:"col-5",style:{"font-size":"11px","text-align":"right"}},y={class:"row"},x={class:"col"},j={class:"row"},D={class:"col"},z={class:"row"},C={class:"col"},q={class:"row"},T={class:"col"},W=(0,r.Uk)("PAID"),V=(0,r.Uk)("UNPAID"),S=(0,r.Uk)("PICKUP"),U={key:1,class:"q-pa-sm col-md-3 col-sm-5 col-xs-12",style:{overflow:"auto","max-height":"77vh","padding-left":"4px","border-right":"2px solid #DEDEDE"}},I={key:0},O=["onClickCapture"],P={class:"row"},A={class:"col"},R={class:"row"},L={class:"col-7"},E={class:"col-5",style:{"font-size":"11px","text-align":"right"}},F={class:"row"},H={class:"col"},G={class:"row"},M={class:"col"},N={class:"row"},B={class:"col"},Y={class:"row"},Q={class:"col"},Z=(0,r.Uk)("PAID"),K=(0,r.Uk)("UNPAID"),$=(0,r.Uk)("PICKUP"),X={key:2,class:"col-9"},J=a((()=>(0,r._)("div",{style:{display:"block","margin-left":"auto","margin-right":"auto","margin-top":"250px","text-align":"center"}}," No Order Selected ",-1))),ee=[J],se={key:3,class:"col-9"},le={class:"row q-pa-md order-details-header"},re={class:"row col"},oe=a((()=>(0,r._)("b",{class:"col-10",style:{color:"#5C5C5C"}},"Order Details",-1))),ae={class:"row q-pa-md bg-white"},ie={class:"col-md-4 col-sm-6 col-xs-12"},te=a((()=>(0,r._)("b",null,"Order Number:",-1))),de=(0,r.Uk)(),ce={class:"col-md-4 col-sm-6 col-xs-12"},ne=a((()=>(0,r._)("b",null,"Service Method:",-1))),_e=(0,r.Uk)(),ue={key:0},me={key:1},pe={class:"col-md-4 col-sm-6 col-xs-12"},he=a((()=>(0,r._)("b",null,"Status:",-1))),we=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}},"Customer Details")])],-1))),ve={class:"row q-pa-md bg-white"},ge={class:"col-md-6 col-sm-6 col-xs-12 q-pa-sm"},be=a((()=>(0,r._)("b",null,"Name:",-1))),ke={class:"col-md-6 col-sm-6 col-xs-12 q-pa-sm"},fe=a((()=>(0,r._)("b",null,"Email:",-1))),ye={class:"col-md-6 col-sm-6 col-xs-12 q-pa-sm"},xe=a((()=>(0,r._)("b",null,"Phone Number:",-1))),je={class:"col-md-6 col-xs-12 q-pa-sm"},De=a((()=>(0,r._)("b",null,"Address:",-1))),ze=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}},"Order Summary")])],-1))),Ce={class:"row q-pa-md bg-white"},qe={class:"col-1 q-pa-sm"},Te={class:"col-md-9 col-sm-9 col-xs-7 q-pa-sm"},We={class:"col-md-2 col-sm-2 col-xs-4 q-pa-sm"},Ve=a((()=>(0,r._)("div",{class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},[(0,r._)("b",null,"Payment:")],-1))),Se={class:"col-md-8 col-sm-8 col-xs-6 q-pa-sm"},Ue=a((()=>(0,r._)("div",{class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},[(0,r._)("b",null,"Sub Total:")],-1))),Ie={class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},Oe=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}},"Price Breakdown")])],-1))),Pe={class:"row q-pa-md bg-white"},Ae=a((()=>(0,r._)("div",{class:"col-md-10 col-sm-10 col-xs-6 q-pa-sm"}," Total with VAT ",-1))),Re={class:"col-md-2 col-sm-2 col-xs-6 q-pa-sm"},Le=a((()=>(0,r._)("div",{class:"col-md-10 col-sm-10 col-xs-6 q-pa-sm"}," Delivery Charge ",-1))),Ee={class:"col-md-2 col-sm-2 col-xs-6 q-pa-sm"},Fe={key:0,class:"col-md-10 col-sm-10 col-xs-6 q-pa-sm"},He={key:1,class:"col-md-10 col-sm-10 col-xs-6 q-pa-sm"},Ge={key:2,class:"col-md-2 col-sm-2 col-xs-6 q-pa-sm"},Me=a((()=>(0,r._)("div",{class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},[(0,r._)("b",null,"Payment:")],-1))),Ne={class:"col-md-8 col-sm-8 col-xs-6 q-pa-sm"},Be=a((()=>(0,r._)("div",{class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},[(0,r._)("b",null,"Grand Total:")],-1))),Ye={class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},Qe=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}},"Order Remarks")])],-1))),Ze={class:"row q-pa-md bg-white",style:{"margin-bottom":"10px"}},Ke={class:"col-12 row q-pa-sm"},$e={class:"col-12"},Xe={class:"row q-pa-md bg-white",style:{"margin-bottom":"10px"}},Je={class:"col-12 row q-pa-sm"},es={class:"col-sm-2 col-xs-6"},ss={class:"col-sm-2 col-xs-6"},ls=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}})])],-1))),rs={key:0,class:"row q-pa-md bg-white shadow-2 order-status-float"},os={class:"col-md-10 col-sm-10 cols-xs-12 row q-pa-sm"},as={class:"col-12"},is=a((()=>(0,r._)("b",null,"Update Status: ",-1))),ts={key:0},ds={key:1},cs={key:2},ns={key:3},_s={key:4},us={key:0,class:"col-12"},ms=a((()=>(0,r._)("span",null,"Dispatcher name:",-1))),ps={key:1,class:"col-sm-6"},hs=a((()=>(0,r._)("span",null,"Select Carrier:",-1))),ws={key:2,class:"col-sm-6"},vs={key:0},gs=a((()=>(0,r._)("span",null,"Rider name:",-1))),bs={key:3,class:"col-12 row"},ks={class:"col-sm-5 col-xs-12 q-pa-xs"},fs={class:"row items-center justify-end"},ys={class:"col-sm-2 col-xs-12 q-pa-xs"},xs={class:"col-sm-2 col-xs-12 q-pa-xs"},js={class:"col-sm-2 col-xs-12 q-pa-xs"},Ds={key:4},zs={key:0},Cs=(0,r.Uk)("Delivery ID - "),qs={key:1},Ts=(0,r.Uk)("Merchant Order ID - "),Ws={key:2},Vs=(0,r.Uk)("Pickup PIN - "),Ss={class:"col-md-2 col-sm-2 cols-xs-12 row q-pa-sm"},Us=a((()=>(0,r._)("div",{class:"text-h6"},"Alert",-1))),Is=a((()=>(0,r._)("span",{class:"q-ml-sm"},"Confirm Close Transaction?",-1))),Os=a((()=>(0,r._)("div",{class:"text-h6"},"Invoice",-1))),Ps={class:"row"},As=a((()=>(0,r._)("div",{class:"col-6 text-h6"},[(0,r._)("b",null,"Order No.:")],-1))),Rs={class:"col-6 text-h6"},Ls=a((()=>(0,r._)("div",{class:"col-6"},"Order Type:",-1))),Es={class:"col-6"},Fs=a((()=>(0,r._)("div",{class:"col-6"},"Payment Type:",-1))),Hs={class:"col-6"},Gs=a((()=>(0,r._)("div",{class:"col-6"},"Order Date:",-1))),Ms={class:"col-6"},Ns=a((()=>(0,r._)("div",{class:"col-6"},"Delivery Date:",-1))),Bs={class:"col-6"},Ys=a((()=>(0,r._)("div",{class:"col-6"},"Print Count:",-1))),Qs={class:"col-6"},Zs=a((()=>(0,r._)("div",{class:"col-6"},"Type:",-1))),Ks={class:"col-6"},$s=a((()=>(0,r._)("div",{class:"col-6"},"Customer Name:",-1))),Xs={class:"col-6"},Js={class:"row"},el=a((()=>(0,r._)("div",{class:"col-12 text-h6"},[(0,r._)("b",null,"Address")],-1))),sl=a((()=>(0,r._)("div",{class:"col-6"},"Delivery Address:",-1))),ll={class:"col-6"},rl=a((()=>(0,r._)("div",{class:"col-6"},"City:",-1))),ol={class:"col-6"},al=a((()=>(0,r._)("div",{class:"col-6"},"Landmarks:",-1))),il={class:"col-6"},tl=a((()=>(0,r._)("div",{class:"col-6"},"Address Remarks:",-1))),dl={class:"col-6"},cl=a((()=>(0,r._)("div",{class:"col-6"},"Proximity Distance:",-1))),nl={class:"col-6"},_l={class:"row"},ul=a((()=>(0,r._)("div",{class:"col-12 text-h6"},[(0,r._)("b",null,"Item Details")],-1))),ml=a((()=>(0,r._)("div",{class:"col-3"},"Item",-1))),pl=a((()=>(0,r._)("div",{class:"col-3"},"Description",-1))),hl=a((()=>(0,r._)("div",{class:"col-3"},"Quantity",-1))),wl=a((()=>(0,r._)("div",{class:"col-3"},"Total",-1))),vl={class:"col-3"},gl={class:"col-3"},bl={class:"col-3"},kl={class:"col-3"},fl=a((()=>(0,r._)("div",{class:"col-6",style:{"margin-top":"10px"}},"Order Remarks:",-1))),yl={class:"col-6",style:{"margin-top":"10px"}},xl=a((()=>(0,r._)("div",{class:"row",style:{"margin-top":"10px"}},null,-1))),jl={key:0,class:"row"},Dl=a((()=>(0,r._)("div",{class:"col-6"},"S.C. ID:",-1))),zl={class:"col-6"},Cl={key:1,class:"row"},ql=a((()=>(0,r._)("div",{class:"col-6"},"PWD ID:",-1))),Tl={class:"col-6"},Wl=a((()=>(0,r._)("div",{class:"row",style:{"margin-top":"10px"}},null,-1))),Vl={class:"row"},Sl=a((()=>(0,r._)("div",{class:"col-6"},"Delivery Charge:",-1))),Ul={class:"col-6"},Il=a((()=>(0,r._)("div",{class:"col-6"},"Discount:",-1))),Ol={class:"col-6"},Pl={key:0,class:"col-6"},Al={key:1,class:"col-6"},Rl={key:2,class:"col-6"},Ll={key:3,class:"col-6"},El=a((()=>(0,r._)("div",{class:"col-6"},"Total:",-1))),Fl={class:"col-6"},Hl=a((()=>(0,r._)("div",{class:"col-6"},"Tendered Amount:",-1))),Gl={class:"col-6"},Ml=a((()=>(0,r._)("div",{class:"col-6"},"Vouchers Amount:",-1))),Nl={class:"col-6"},Bl=a((()=>(0,r._)("div",{class:"col-6"},"Change Amount:",-1))),Yl={class:"col-6"},Ql=a((()=>(0,r._)("div",{class:"row",style:{"margin-top":"10px"}},null,-1))),Zl={class:"row"},Kl=a((()=>(0,r._)("div",{class:"col-6"},"Rider:",-1))),$l={class:"col-6"},Xl=a((()=>(0,r._)("div",{class:"col-6"},"Dispatcher:",-1))),Jl={class:"col-6"},er=a((()=>(0,r._)("div",{class:"col-6"},"Agent:",-1))),sr={class:"col-6"},lr=a((()=>(0,r._)("div",{class:"col-12",style:{"margin-top":"10px"}},null,-1))),rr=a((()=>(0,r._)("div",{class:"col-12"},"Thank You!",-1))),or=a((()=>(0,r._)("div",{class:"text-h6"},"Process Time",-1))),ar={class:"row"},ir=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Received")],-1))),tr={class:"col-6"},dr=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Acknowledged")],-1))),cr={class:"col-6"},nr=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Rider Assigned")],-1))),_r={class:"col-6"},ur=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Rider Out")],-1))),mr={class:"col-6"},pr=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Rider Back")],-1))),hr={class:"col-6"},wr=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Customer Receive Time ")],-1))),vr={class:"col-6"},gr=a((()=>(0,r._)("div",{class:"text-h6"},"Hub Declaration",-1))),br={class:"text-h6"},kr=a((()=>(0,r._)("div",{class:"text-h6"},"Hold Schedule",-1))),fr={class:"row"},yr=a((()=>(0,r._)("div",{class:"col-4"},[(0,r._)("b",null,"From Time")],-1))),xr=a((()=>(0,r._)("div",{class:"col-4"},[(0,r._)("b",null,"To Time")],-1))),jr=a((()=>(0,r._)("div",{class:"col-4"},[(0,r._)("b",null,"Hold Date")],-1))),Dr={class:"col-4"},zr={class:"col-4"},Cr={class:"col-4"},qr=a((()=>(0,r._)("div",{class:"text-h6"},"Alert",-1)));function Tr(e,s,l,a,J,Tr){const Wr=(0,r.up)("q-input"),Vr=(0,r.up)("q-chip"),Sr=(0,r.up)("q-spinner-tail"),Ur=(0,r.up)("q-btn"),Ir=(0,r.up)("q-select"),Or=(0,r.up)("q-date"),Pr=(0,r.up)("q-popup-proxy"),Ar=(0,r.up)("q-icon"),Rr=(0,r.up)("q-card-section"),Lr=(0,r.up)("q-card-actions"),Er=(0,r.up)("q-card"),Fr=(0,r.up)("q-dialog"),Hr=(0,r.Q2)("ripple"),Gr=(0,r.Q2)("close-popup");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",t,[(0,r._)("div",d,[(0,r._)("div",null,[c,(0,r.Uk)(" "+(0,o.zw)(e.user.store_name),1)])]),(0,r._)("div",n,[(0,r._)("div",null,[_,(0,r.Uk)(" "+(0,o.zw)(this.todate),1)])]),(0,r._)("div",u,[(0,r.Wm)(Wr,{onKeyup:e.filterOrders,label:"Search",dense:"",filled:"",modelValue:e.orderFilter,"onUpdate:modelValue":s[0]||(s[0]=s=>e.orderFilter=s)},null,8,["onKeyup","modelValue"])]),m]),(0,r._)("div",p,[""==e.orderFilter?((0,r.wg)(),(0,r.iD)("div",h,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.orders,((s,l)=>(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{key:l,class:(0,o.C_)("relative-position order-tab "+(e.order.id==s.id?"selected ":"")+e.order_color_coding(s.status_id,s.running_lapsed,s.view_status,s.is_advance,s.advance_ready)),onClickCapture:l=>(e.orderDetails({id:s.id,loading:!0}),e.resetForm(),e.checkMobileDesktop())},[(0,r._)("div",v,[(0,r._)("div",g,[(0,r._)("b",null,"Status: "+(0,o.zw)(s.status_text),1)])]),(0,r._)("div",b,[(0,r._)("div",k,[(0,r._)("div",null,"Order No: "+(0,o.zw)(s.order_pin),1),(0,r._)("div",null,"Customer: "+(0,o.zw)(s.customer.first_name)+" "+(0,o.zw)(s.customer.last_name),1)]),(0,r._)("div",f,[(0,r._)("div",y,[(0,r._)("div",x,"Price: "+(0,o.zw)(s.price),1)]),(0,r._)("div",j,[(0,r._)("div",D,"Change for: "+(0,o.zw)(s.change_for),1)]),(0,r._)("div",z,[(0,r._)("div",C,"Order Date: "+(0,o.zw)(s.order_date),1)])])]),(0,r._)("div",q,[(0,r._)("div",T,[""!=s.ao_text?((0,r.wg)(),(0,r.j4)(Vr,{key:0,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(s.ao_text),1)])),_:2},1024)):(0,r.kq)("",!0),3===s.payment_id||5===s.payment_id&&1==s.bank_transfer_payment_confirmed?((0,r.wg)(),(0,r.j4)(Vr,{key:1,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[W])),_:1})):(0,r.kq)("",!0),5===s.payment_id&&0==s.bank_transfer_payment_confirmed?((0,r.wg)(),(0,r.j4)(Vr,{key:2,size:"12px",dense:"","text-color":"white",color:"orange"},{default:(0,r.w5)((()=>[V])),_:1})):(0,r.kq)("",!0),"2"==s.service_method_id?((0,r.wg)(),(0,r.j4)(Vr,{key:3,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[S])),_:1})):(0,r.kq)("",!0),s.edit_count>0?((0,r.wg)(),(0,r.j4)(Vr,{key:4,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("UPDATED ("+(0,o.zw)(s.edit_count)+")",1)])),_:2},1024)):(0,r.kq)("",!0)])])],42,w)),[[Hr]]))),128))])):(0,r.kq)("",!0),""!=e.orderFilter?((0,r.wg)(),(0,r.iD)("div",U,[0==e.ordersFiltered.length?((0,r.wg)(),(0,r.iD)("div",I,"No Result")):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.ordersFiltered,((s,l)=>(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{key:l,class:(0,o.C_)("relative-position order-tab "+(e.order.id==s.id?"selected ":"")+e.order_color_coding(s.status_id,s.running_lapsed,s.view_status,s.is_advance,s.advance_ready)),onClickCapture:l=>e.orderDetails({id:s.id,loading:!0})},[(0,r._)("div",P,[(0,r._)("div",A,[(0,r._)("b",null,"Status: "+(0,o.zw)(s.status_text),1)])]),(0,r._)("div",R,[(0,r._)("div",L,[(0,r._)("div",null,"Order No: "+(0,o.zw)(s.order_pin),1),(0,r._)("div",null,"Customer: "+(0,o.zw)(s.customer.first_name)+" "+(0,o.zw)(s.customer.last_name),1)]),(0,r._)("div",E,[(0,r._)("div",F,[(0,r._)("div",H,"Price: "+(0,o.zw)(s.price),1)]),(0,r._)("div",G,[(0,r._)("div",M,"Change for: "+(0,o.zw)(s.change_for),1)]),(0,r._)("div",N,[(0,r._)("div",B,"Order Date: "+(0,o.zw)(s.order_date),1)])])]),(0,r._)("div",Y,[(0,r._)("div",Q,[""!=s.ao_text?((0,r.wg)(),(0,r.j4)(Vr,{key:0,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(s.ao_text),1)])),_:2},1024)):(0,r.kq)("",!0),3===s.payment_id||5===s.payment_id&&1==s.bank_transfer_payment_confirmed?((0,r.wg)(),(0,r.j4)(Vr,{key:1,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[Z])),_:1})):(0,r.kq)("",!0),5===s.payment_id&&0==s.bank_transfer_payment_confirmed?((0,r.wg)(),(0,r.j4)(Vr,{key:2,size:"12px",dense:"","text-color":"white",color:"orange"},{default:(0,r.w5)((()=>[K])),_:1})):(0,r.kq)("",!0),"2"==s.service_method_id?((0,r.wg)(),(0,r.j4)(Vr,{key:3,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[$])),_:1})):(0,r.kq)("",!0),s.edit_count>0?((0,r.wg)(),(0,r.j4)(Vr,{key:4,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("UPDATED ("+(0,o.zw)(s.edit_count)+")",1)])),_:2},1024)):(0,r.kq)("",!0)])])],42,O)),[[Hr]]))),128))])):(0,r.kq)("",!0),e.order.hasOwnProperty("id")||e.orderLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",X,ee)),e.orderLoading?((0,r.wg)(),(0,r.iD)("div",se,[(0,r.Wm)(Sr,{style:{display:"block","margin-left":"auto","margin-right":"auto","margin-top":"250px"},color:"primary",size:"5em"})])):(0,r.kq)("",!0),e.order.hasOwnProperty("id")&&!e.orderLoading?((0,r.wg)(),(0,r.iD)("div",{key:4,class:(0,o.C_)("col-md-9 col-sm-7 col-xs-12 order-details "+e.hideShow)},[(0,r._)("div",le,[(0,r._)("div",re,[oe,(0,r.Wm)(Ur,{onClickCapture:s[1]||(s[1]=s=>e.hideShow="hide"),class:"col-2",label:"Back",color:"primary",flat:"",dense:""})])]),(0,r._)("div",ae,[(0,r._)("div",ie,[te,de,(0,r.Wm)(Ur,{dense:"",flat:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.order.order_pin),1)])),_:1})]),(0,r._)("div",ce,[ne,_e,1==e.order.service_method_id?((0,r.wg)(),(0,r.iD)("span",ue,"Delivery")):(0,r.kq)("",!0),2==e.order.service_method_id?((0,r.wg)(),(0,r.iD)("span",me,"For Pickup")):(0,r.kq)("",!0)]),(0,r._)("div",pe,[he,(0,r.Uk)(" "+(0,o.zw)(e.order.status_text),1)])]),we,(0,r._)("div",ve,[(0,r._)("div",ge,[be,(0,r.Uk)(" "+(0,o.zw)(e.order.customer.first_name)+" "+(0,o.zw)(e.order.customer.last_name),1)]),(0,r._)("div",ke,[fe,(0,r.Uk)(" "+(0,o.zw)(e.order.customer.email_address),1)]),(0,r._)("div",ye,[xe,(0,r.Uk)(" "+(0,o.zw)(e.order.delivery_address.contact_number),1)]),(0,r._)("div",je,[De,(0,r.Uk)(" "+(0,o.zw)(e.order.delivery_address.address),1)])]),ze,(0,r._)("div",Ce,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.order.order_items,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s,class:"col-12 row"},[(0,r._)("div",qe,[(0,r._)("b",null,(0,o.zw)(e.quantity)+"X",1)]),(0,r._)("div",Te,(0,o.zw)(e.product.name),1),(0,r._)("div",We," ₱ "+(0,o.zw)(e.gross_price),1)])))),128)),Ve,(0,r._)("div",Se,(0,o.zw)(e.order.payment_text)+" - P "+(0,o.zw)(e.order.tendered_amount),1),Ue,(0,r._)("div",Ie," ₱ "+(0,o.zw)(e.order.total_w_vat),1)]),Oe,(0,r._)("div",Pe,[Ae,(0,r._)("div",Re," ₱ "+(0,o.zw)(e.order.total_w_vat),1),Le,(0,r._)("div",Ee," ₱ "+(0,o.zw)(e.order.delivery_charge),1),e.order.is_scd?((0,r.wg)(),(0,r.iD)("div",Fe," Senior Discount ")):(0,r.kq)("",!0),e.order.is_pwd?((0,r.wg)(),(0,r.iD)("div",He," PWD Discount ")):(0,r.kq)("",!0),e.order.total_discounts>0?((0,r.wg)(),(0,r.iD)("div",Ge," - ₱ "+(0,o.zw)(e.order.total_discounts),1)):(0,r.kq)("",!0),Me,(0,r._)("div",Ne,(0,o.zw)(e.order.payment_text)+" - P "+(0,o.zw)(e.order.tendered_amount),1),Be,(0,r._)("div",Ye," ₱ "+(0,o.zw)(e.order.total_gross),1)]),Qe,(0,r._)("div",Ze,[(0,r._)("div",Ke,[(0,r._)("div",$e,(0,o.zw)(e.order.order_remarks),1)])]),(0,r._)("div",Xe,[(0,r._)("div",Je,[(0,r._)("div",es,[(0,r.Wm)(Ur,{onClickCapture:s[2]||(s[2]=s=>e.invoice=!0),flat:"",dense:"",style:{background:"#58AF00",color:"white","border-radius":"30px",width:"120px",height:"30px"},label:"Invoice"})]),(0,r._)("div",ss,[(0,r.Wm)(Ur,{onClickCapture:s[3]||(s[3]=s=>e.processTime=!0),flat:"",dense:"",style:{background:"#58AF00",color:"white","border-radius":"30px",width:"120px",height:"30px"},label:"Process Time"})])])]),ls,5!=e.order.status&&6!=e.order.status?((0,r.wg)(),(0,r.iD)("div",rs,[(0,r._)("div",os,[(0,r._)("div",as,[is,1!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",ts,"Received to Acknowledge")),2!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",ds,"Acknowledge to Rider Assign")),8!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",cs,"Rider Assign to Rider Out")),3!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",ns,"Rider Out to Rider Back")),4!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",_s,"Rider Back to Close Order"))]),1===e.order.status?((0,r.wg)(),(0,r.iD)("div",us,[ms,(0,r.Wm)(Wr,{style:{"margin-left":"10px",width:"30%",display:"inline-block"},flat:"",dense:"",outlined:"",modelValue:e.dispatcher,"onUpdate:modelValue":s[4]||(s[4]=s=>e.dispatcher=s)},null,8,["modelValue"])])):(0,r.kq)("",!0),2===e.order.status&&null==e.order.delivery_booking?((0,r.wg)(),(0,r.iD)("div",ps,[hs,(0,r.Wm)(Ir,{style:{"margin-left":"10px",width:"70%",display:"inline-block"},flat:"",dense:"",outlined:"",modelValue:e.carrier,"onUpdate:modelValue":s[5]||(s[5]=s=>e.carrier=s),options:e.carriers,"option-label":"name","option-value":"alias"},null,8,["modelValue","options"])])):(0,r.kq)("",!0),2===e.order.status&&null==e.order.delivery_booking?((0,r.wg)(),(0,r.iD)("div",ws,[2===e.order.status&&"inhouse"==e.carrier.alias?((0,r.wg)(),(0,r.iD)("span",vs,[gs,(0,r.Wm)(Wr,{style:{"margin-left":"10px",width:"70%",display:"inline-block"},flat:"",dense:"",outlined:"",modelValue:e.ridername,"onUpdate:modelValue":s[6]||(s[6]=s=>e.ridername=s)},null,8,["modelValue"])])):(0,r.kq)("",!0)])):(0,r.kq)("",!0),4===e.order.status?((0,r.wg)(),(0,r.iD)("div",bs,[(0,r._)("div",ks,[(0,r.Wm)(Wr,{label:"Date",outlined:"",dense:"",flat:"",modelValue:e.receivedTime.date,"onUpdate:modelValue":s[8]||(s[8]=s=>e.receivedTime.date=s)},{append:(0,r.w5)((()=>[(0,r.Wm)(Ar,{name:"event",class:"cursor-pointer"},{default:(0,r.w5)((()=>[(0,r.Wm)(Pr,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Wm)(Or,{modelValue:e.receivedTime.date,"onUpdate:modelValue":s[7]||(s[7]=s=>e.receivedTime.date=s),mask:"MM/DD/YYYY",options:s=>s>=e.optionsDate(e.order.order_date)},{default:(0,r.w5)((()=>[(0,r._)("div",fs,[(0,r.wy)((0,r.Wm)(Ur,{label:"Close",color:"primary",flat:""},null,512),[[Gr]])])])),_:1},8,["modelValue","options"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,r._)("div",ys,[(0,r.Wm)(Ir,{label:"Hour",flat:"",dense:"",outlined:"",modelValue:e.receivedTime.hour,"onUpdate:modelValue":s[9]||(s[9]=s=>e.receivedTime.hour=s),options:e.hour},null,8,["modelValue","options"])]),(0,r._)("div",xs,[(0,r.Wm)(Ir,{label:"Minute",flat:"",dense:"",outlined:"",modelValue:e.receivedTime.minute,"onUpdate:modelValue":s[10]||(s[10]=s=>e.receivedTime.minute=s),options:e.minute},null,8,["modelValue","options"])]),(0,r._)("div",js,[(0,r.Wm)(Ir,{label:"AM/PM",flat:"",dense:"",outlined:"",modelValue:e.receivedTime.ampm,"onUpdate:modelValue":s[11]||(s[11]=s=>e.receivedTime.ampm=s),options:e.ampm},null,8,["modelValue","options"])])])):(0,r.kq)("",!0),null!==e.order.delivery_booking?((0,r.wg)(),(0,r.iD)("div",Ds,[(0,r.Uk)(" GrabExpress - "+(0,o.zw)(e.order.delivery_booking.status)+" ",1),e.order.delivery_booking.pickup_pin?((0,r.wg)(),(0,r.iD)("div",zs,[Cs,(0,r._)("b",null,(0,o.zw)(e.order.delivery_booking.delivery_id),1)])):(0,r.kq)("",!0),e.order.delivery_booking.pickup_pin?((0,r.wg)(),(0,r.iD)("div",qs,[Ts,(0,r._)("b",null,(0,o.zw)(e.order.delivery_booking.order_id),1)])):(0,r.kq)("",!0),e.order.delivery_booking.pickup_pin?((0,r.wg)(),(0,r.iD)("div",Ws,[Vs,(0,r._)("b",null,(0,o.zw)(e.order.delivery_booking.pickup_pin),1)])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]),(0,r._)("div",Ss,[null==e.order.delivery_booking?((0,r.wg)(),(0,r.j4)(Ur,{key:0,loading:e.orderStatusLoading||e.grabLoading,onClickCapture:s[12]||(s[12]=s=>e.updateOrderStatus()),flat:"",dense:"",style:{background:"#58AF00",color:"white","border-radius":"30px",width:"80px",height:"30px"},label:"next"},null,8,["loading"])):(0,r.kq)("",!0),null!=e.order.delivery_booking?((0,r.wg)(),(0,r.j4)(Ur,{key:1,disabled:"QUEUEING"!=e.order.delivery_booking.status,loading:e.grabLoading,onClickCapture:s[13]||(s[13]=s=>e.cancelGrabBooking({order_id:e.order.id})),flat:"",dense:"",style:{background:"#58AF00",color:"white","border-radius":"30px",width:"140px",height:"30px"},label:"Cancel Booking"},null,8,["disabled","loading"])):(0,r.kq)("",!0)])])):(0,r.kq)("",!0)],2)):(0,r.kq)("",!0)]),(0,r.Wm)(Fr,{modelValue:e.confirm,"onUpdate:modelValue":s[15]||(s[15]=s=>e.confirm=s),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Er,null,{default:(0,r.w5)((()=>[(0,r.Wm)(Rr,null,{default:(0,r.w5)((()=>[Us])),_:1}),(0,r.Wm)(Rr,{class:"row items-center"},{default:(0,r.w5)((()=>[Is])),_:1}),(0,r.Wm)(Lr,{align:"right"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(Ur,{flat:"",label:"Cancel",color:"primary"},null,512),[[Gr]]),(0,r.Wm)(Ur,{flat:"",label:"Confirm",color:"primary",onClickCapture:s[14]||(s[14]=s=>(e.confirm=!1,e.orderClose({received_datetime:e.received_time,id:e.order.id})))})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Fr,{modelValue:e.invoice,"onUpdate:modelValue":s[16]||(s[16]=s=>e.invoice=s)},{default:(0,r.w5)((()=>[(0,r.Wm)(Er,{style:{width:"800px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Rr,null,{default:(0,r.w5)((()=>[Os])),_:1}),(0,r.Wm)(Rr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r._)("div",Ps,[As,(0,r._)("div",Rs,[(0,r._)("b",null,(0,o.zw)(e.order.order_pin),1)]),Ls,(0,r._)("div",Es,(0,o.zw)(e.order.source_text),1),Fs,(0,r._)("div",Hs,(0,o.zw)(e.order.payment_text),1),Gs,(0,r._)("div",Ms,(0,o.zw)(e.order.order_date),1),Ns,(0,r._)("div",Bs,(0,o.zw)(e.order.delivery_date),1),Ys,(0,r._)("div",Qs,(0,o.zw)(e.order.print_counter),1),Zs,(0,r._)("div",Ks,(0,o.zw)(1==e.order.service_method_id?"Delivery":"Pickup"),1),$s,(0,r._)("div",Xs,(0,o.zw)(e.order.customer.first_name+" "+e.order.customer.last_name),1)]),(0,r._)("div",Js,[el,sl,(0,r._)("div",ll,(0,o.zw)(e.order.delivery_address.address),1),rl,(0,r._)("div",ol,(0,o.zw)(e.order.city_name),1),al,(0,r._)("div",il,(0,o.zw)(e.order.delivery_address.landmark_1),1),tl,(0,r._)("div",dl,(0,o.zw)(e.order.delivery_address.remarks),1),cl,(0,r._)("div",nl,(0,o.zw)(e.order.additional.distance_km+" km ("+e.order.additional.travel_time_mins+" mins approx. )"),1)]),(0,r._)("div",_l,[ul,ml,pl,hl,wl,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.order.order_items,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s,class:"col-12 row"},[(0,r._)("div",vl,(0,o.zw)(e.product.name),1),(0,r._)("div",gl,(0,o.zw)(e.product.description),1),(0,r._)("div",bl,(0,o.zw)(e.quantity),1),(0,r._)("div",kl,(0,o.zw)(e.gross_price),1)])))),128)),fl,(0,r._)("div",yl,(0,o.zw)(e.order.order_remarks),1)]),xl,1==e.order.is_scd?((0,r.wg)(),(0,r.iD)("div",jl,[Dl,(0,r._)("div",zl,(0,o.zw)(e.order.scd_id),1)])):(0,r.kq)("",!0),1==e.order.is_pwd?((0,r.wg)(),(0,r.iD)("div",Cl,[ql,(0,r._)("div",Tl,(0,o.zw)(e.order.pwd_id),1)])):(0,r.kq)("",!0),Wl,(0,r._)("div",Vl,[Sl,(0,r._)("div",Ul,(0,o.zw)(e.order.delivery_charge),1),Il,(0,r._)("div",Ol,(0,o.zw)(e.order.total_discounts),1),1==e.order.is_scd?((0,r.wg)(),(0,r.iD)("div",Pl,"SCD Vat:")):(0,r.kq)("",!0),1==e.order.is_scd?((0,r.wg)(),(0,r.iD)("div",Al,(0,o.zw)(e.order.excess_vat),1)):(0,r.kq)("",!0),1==e.order.is_pwd?((0,r.wg)(),(0,r.iD)("div",Rl,"PWD Vat:")):(0,r.kq)("",!0),1==e.order.is_pwd?((0,r.wg)(),(0,r.iD)("div",Ll,(0,o.zw)(e.order.excess_vat),1)):(0,r.kq)("",!0),El,(0,r._)("div",Fl,(0,o.zw)(e.order.total_gross),1),Hl,(0,r._)("div",Gl,(0,o.zw)(e.order.tendered_amount),1),Ml,(0,r._)("div",Nl,(0,o.zw)(e.order.voucher_amount),1),Bl,(0,r._)("div",Yl,(0,o.zw)(e.order.change_amount),1)]),Ql,(0,r._)("div",Zl,[Kl,(0,r._)("div",$l,(0,o.zw)(e.order.rider_name),1),Xl,(0,r._)("div",Jl,(0,o.zw)(e.order.dispatcher),1),er,(0,r._)("div",sr,(0,o.zw)(e.order.agent_name),1),lr,rr])])),_:1}),(0,r.Wm)(Lr,{align:"right"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(Ur,{flat:"",label:"Close",color:"primary"},null,512),[[Gr]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Fr,{modelValue:e.processTime,"onUpdate:modelValue":s[17]||(s[17]=s=>e.processTime=s)},{default:(0,r.w5)((()=>[(0,r.Wm)(Er,{style:{width:"400px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Rr,null,{default:(0,r.w5)((()=>[or])),_:1}),(0,r.Wm)(Rr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r._)("div",ar,[ir,(0,r._)("div",tr,(0,o.zw)(e.order.received_datetime),1),dr,(0,r._)("div",cr,(0,o.zw)(e.order.acknowledged_datetime),1),nr,(0,r._)("div",_r,(0,o.zw)(e.order.rider_assigned_datetime),1),ur,(0,r._)("div",mr,(0,o.zw)(e.order.rider_out_datetime),1),pr,(0,r._)("div",hr,(0,o.zw)(e.order.rider_back_datetime),1),wr,(0,r._)("div",vr,(0,o.zw)(e.order.customer_receive_datetime),1)])])),_:1}),(0,r.Wm)(Lr,{align:"right"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(Ur,{flat:"",label:"Close",color:"primary"},null,512),[[Gr]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Fr,{modelValue:e.hubdec,"onUpdate:modelValue":s[20]||(s[20]=s=>e.hubdec=s),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Er,{style:{"min-width":"350px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Rr,null,{default:(0,r.w5)((()=>[gr])),_:1}),(0,r.Wm)(Rr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r.Wm)(Wr,{dense:"",type:"number",modelValue:e.hubdec_pin,"onUpdate:modelValue":s[18]||(s[18]=s=>e.hubdec_pin=s),label:"Enter your pin",autofocus:""},null,8,["modelValue"])])),_:1}),(0,r.Wm)(Lr,{align:"right",class:"text-primary"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(Ur,{flat:"",label:"Cancel"},null,512),[[Gr]]),(0,r.Wm)(Ur,{loading:e.hubdecLoading,onClickCapture:s[19]||(s[19]=s=>e.verifyStore()),flat:"",label:"Submit"},null,8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Fr,{modelValue:e.hubdecForm,"onUpdate:modelValue":s[24]||(s[24]=s=>e.hubdecForm=s),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Er,{style:{"min-width":"350px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Rr,null,{default:(0,r.w5)((()=>[(0,r._)("div",br,"Hub Declaration for "+(0,o.zw)(0==e.hubdec_mins?"Hold":e.hubdec_mins+"min."),1)])),_:1}),(0,r.Wm)(Rr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r.Wm)(Wr,{dense:"",modelValue:e.hubdecAuthorizedBy,"onUpdate:modelValue":s[21]||(s[21]=s=>e.hubdecAuthorizedBy=s),label:"Authorized by",autofocus:""},null,8,["modelValue"]),(0,r.Wm)(Wr,{dense:"",modelValue:e.hubdecReason,"onUpdate:modelValue":s[22]||(s[22]=s=>e.hubdecReason=s),label:"Reason"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(Lr,{align:"right",class:"text-primary"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(Ur,{flat:"",label:"Cancel"},null,512),[[Gr]]),(0,r.Wm)(Ur,{loading:e.hubdecLoading,onClickCapture:s[23]||(s[23]=s=>e.submitHubDec()),flat:"",label:"Submit"},null,8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Fr,{modelValue:e.holdSchedule,"onUpdate:modelValue":s[26]||(s[26]=s=>e.holdSchedule=s),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Er,{style:{"min-width":"350px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Rr,null,{default:(0,r.w5)((()=>[kr])),_:1}),(0,r.Wm)(Rr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r._)("div",fr,[yr,xr,jr,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.storeHoldSchedule,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s,class:"col-12 row"},[(0,r._)("div",Dr,(0,o.zw)(e.from_time),1),(0,r._)("div",zr,(0,o.zw)(e.to_time),1),(0,r._)("div",Cr,(0,o.zw)(e.datetime_created),1)])))),128))])])),_:1}),(0,r.Wm)(Lr,{align:"right",class:"text-primary"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(Ur,{flat:"",label:"Close"},null,512),[[Gr]]),(0,r.Wm)(Ur,{loading:e.hubdecLoading,onClickCapture:s[25]||(s[25]=s=>(e.holdSchedule=!1,e.hubdecForm=!0,e.hubdec_mins=0)),flat:"",label:"HOLD FOR 60 MINS"},null,8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Fr,{modelValue:e.alert,"onUpdate:modelValue":s[27]||(s[27]=s=>e.alert=s),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Wm)(Er,{class:(0,o.C_)(e.alertColor+" text-white"),style:{width:"300px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Rr,null,{default:(0,r.w5)((()=>[qr])),_:1}),(0,r.Wm)(Rr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.alertMessage),1)])),_:1}),(0,r.Wm)(Lr,{align:"right",class:"bg-white text-teal"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(Ur,{flat:"",label:"OK"},null,512),[[Gr]])])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])])}l(5363),l(7768);var Wr=l(3617),Vr=l(1959),Sr=l(1488),Ur=l.n(Sr),Ir=new Date,Or=Ir.getFullYear()+"-"+(Ir.getMonth()+1)+"-"+Ir.getDate();const Pr=(0,r.aZ)({name:"OrderMonitoring",computed:{...(0,Wr.Se)("Order",{orders:"GET_ORDERS",ordersLoading:"GET_ORDERS_LOADING",order:"GET_ORDER",orderLoading:"GET_ORDER_LOADING",carriers:"GET_CARRIERS",threshold:"GET_THRESHOLD",orderStatusLoading:"GET_ORDER_STATUS_LOADING"}),...(0,Wr.Se)("Grabex",{grabLoading:"GET_LOADING"}),...(0,Wr.Se)("Auth",{user:"GET_PROFILE"}),...(0,Wr.Se)("HubDec",{hubdecLoading:"GET_HUB_DEC_LOADING",isVerifiedPin:"GET_STORE_VERFIED",currentHubDec:"GET_CURRENT_HUB_DEC",storeHoldSchedule:"GET_HOLD_SCHEDULE"})},data:()=>({todate:Or,currentOrderId:-1,model:(0,Vr.iH)(null),options:["In House","Loginext","Grab Express","Teleport","Panda Go"],dispatcher:"",ridername:"",carrier:{name:"",alias:""},date:[],hour:[],ampm:["AM","PM"],minute:[],receivedTime:{date:"",hour:"",ampm:"",minute:""},confirm:!1,received_time:"",orderFilter:"",ordersFiltered:[],invoice:!1,processTime:!1,hubdec_pin:null,hubdec_mins:60,hubdec:!1,hubdecForm:!1,hubdecAuthorizedBy:"",hubdecReason:"",holdSchedule:!1,alert:!1,alertMessage:"",alertColor:"bg-green",hideShow:"",optionsFn(e){return e>="2022/01/25"}}),async beforeMount(){this.initializeDateSelector(),await this.deliveryCarriers(),this.carrier=this.carriers[0],await this.getCurrentHubDec(),this.$q.platform.is.mobile&&this.order.hasOwnProperty("id")&&(console.log(this.order),this.checkMobileDesktop()),console.log(this.orders)},watch:{order:function(e){this.$q.platform.is.mobile&&e.hasOwnProperty("id")&&(console.log(e),this.checkMobileDesktop())}},methods:{...(0,Wr.nv)("Order",["orderMonitoring","orderDetails","deliveryCarriers","acknowledge","riderAssign","orderThreshold","riderOut","riderBack","updateOrderReceiveDatetime","orderClose"]),...(0,Wr.nv)("Grabex",["bookGrab","cancelGrabBooking"]),...(0,Wr.nv)("HubDec",["validateStorePin","getCurrentHubDec","setHubDec","getHoldSchedule"]),checkMobileDesktop(){this.$q.screen.width<=600&&(this.hideShow="show")},resetForm(){this.receivedTime={date:"",hour:"",minute:""},this.carrier={name:"",alias:""},this.ridername="",this.dispatcher=""},async verifyStore(){if(this.hubdec_pin)if(await this.validateStorePin(this.hubdec_pin),this.isVerifiedPin){if("HOLD"==this.currentHubDec.promised_time)return this.alert=!0,this.alertColor="bg-orange",void(this.alertMessage="Unable to change hub declaration. Please remove current store hold");0!=this.hubdec_mins?(this.hubdec=!1,this.hubdecReason="",this.hubdecAuthorizedBy="",this.hubdecForm=!0):(this.hubdec=!1,this.holdSchedule=!0,this.getHoldSchedule())}else this.alert=!0,this.alertColor="bg-red",this.alertMessage="Invalid Pin";else this.alert=!0,this.alertColor="bg-red",this.alertMessage="Please enter your pin number."},async submitHubDec(){""!=this.hubdecReason&&""!=this.hubdecAuthorizedBy?(await this.setHubDec({reason:this.hubdecReason,promised_time:0==this.hubdec_mins?"HOLD":this.hubdec_mins,authorized_by:this.hubdecAuthorizedBy}),await this.getCurrentHubDec(),this.hubdecReason="",this.hubdecAuthorizedBy="",this.hubdecForm=!1,this.alert=!0,this.alertColor="bg-green",this.alertMessage="Hub Declaration Successful!"):(this.alert=!0,this.alertColor="bg-red",this.alertMessage="Please fill up the field.")},combineOrderItemsName(e){var s="";return e.forEach(((l,r)=>{s+="X"+l.quantity+" "+l.name,r+1!=e.length&&(s+=", ")})),s},async updateOrderStatus(){switch(this.order.status){case 1:""==this.dispatcher?alert("Please fill up the field."):(this.acknowledge({id:this.order.id,acknowledged_by:this.dispatcher}),this.dispatcher="");break;case 2:"inhouse"==this.carrier.alias&&(""==this.ridername?alert("Please fill up the field."):(this.riderAssign({id:this.order.id,rider_name:this.riderName}),this.carrier={name:"",alias:""},this.riderName="")),"grabex"==this.carrier.alias&&(await this.bookGrab({order_id:this.order.id}),this.orderDetails({id:this.order.id,loading:!1}));break;case 8:await this.checkThreshold(3),this.threshold.allowed?this.riderOut({id:this.order.id}):alert("Threshold Time-out");break;case 3:await this.checkThreshold(4),this.threshold.allowed?this.riderBack({id:this.order.id}):alert("Threshold Time-out");break;case 4:var e=this.order.rider_out_datetime,s=this.order.rider_back_datetime,l=this.receivedTime.hour;"PM"==this.receivedTime.ampm&&this.receivedTime.hour<12?l+=12:l=this.receivedTime.hour;var r=this.receivedTime.date.split("/")[2]+"/"+this.receivedTime.date.split("/")[0]+"/"+this.receivedTime.date.split("/")[1];if(this.received_time=r.replaceAll("/","-")+" "+l+":"+this.receivedTime.minute+":00",""!=s){var o=this.check_crt(this.received_time,e);if(!o)return alert("INVALID:\nReceive time must be later than Rider Back"),!1;this.confirm=!0}break;default:break}},async checkThreshold(e){await this.orderThreshold({next_status:e,acknowledge_datetime:this.order.acknowledged_datetime,rider_out_datetime:this.order.rider_out_datetime,proximity:this.order.additional.travel_time_mins}).catch((e=>{console.log(e)}))},initializeDateSelector(){const e=(e,s)=>String(e).padStart(s,"0");for(let s=1;s<32;s++)this.date.push("2021-09-"+e(s,2));for(let s=0;s<12;s++)this.hour.push(s);for(let s=0;s<60;s++)this.minute.push(e(s,2))},check_crt(e,s){var l=e,r=l.split(" "),o=r[0].split("-"),a=r[1].split(":"),i=s,t=i.split(" "),d=t[0].split("-"),c=t[1].split(":"),n=new Date(d[0],d[1],d[2],c[0],c[1],0,0),_=new Date(o[0],o[1],o[2],a[0],a[1],0,0),u=_-n;return u>=0},order_color_coding(e,s,l,r,o){var a=1,i=5,t=26,d="";if(1==e&&0==r){if(parseInt(s)>a&&1==parseInt(l))return d="color_status_lapsed font_normal ",d;if(parseInt(s)<=a&&1==parseInt(l))return d="color_status_standard font_normal",d;if(parseInt(s)<=a&&0==parseInt(l))return d="color_status_standard font_bold font_italic",d;if(parseInt(s)>a&&0==parseInt(l))return d="color_status_lapsed font_bold font_italic",d}if(1==e&&1==r){if(0==parseInt(l)&&"NO"==o)return d="color_status_standard font_bold font_italic",d;if(0==parseInt(l)&&"YES"==o){if(parseInt(s)>a)return d="color_status_lapsed font_bold font_italic",d;if(parseInt(s)<=a)return d="color_status_standard font_bold font_italic",d}if(1==parseInt(l)&&"YES"==o){if(parseInt(s)>a)return d="color_status_lapsed font_normal",d;if(parseInt(s)<=a)return d="color_status_standard font_normal",d}if(1==parseInt(l)&&"NO"==o)return d="color_status_standard font_normal",d}if(2==e)if(1==parseInt(l)){if(parseInt(s)>i)return d="color_status_lapsed font_normal",d;if(parseInt(s)<=i)return d="color_status_standard font_normal",d}else{if(parseInt(s)>i)return d="color_status_lapsed font_bold",d;if(parseInt(s)<=i)return d="color_status_standard font_bold",d}if(3==e){if(parseInt(s)>t)return d="color_status_lapsed font_normal",d;if(parseInt(s)<=t)return d="color_status_standard font_normal",d}if(4==e)return d="color_status_rider_back font_normal",d;if(7==e)return d="color_status_pending font_normal",d;if(8==e){if(parseInt(s)>i)return d="color_status_lapsed font_normal",d;if(parseInt(s)<=i)return d="color_status_standard font_normal",d}},filterOrders(){let e=null;clearTimeout(e),e=setTimeout((()=>{if(""==this.orderFilter)this.ordersFiltered=[];else{var e=this.orders;e=e.filter((e=>{var s=e.customer.first_name+" "+e.customer.last_name;return e.customer.first_name.toLowerCase().includes(this.orderFilter.toLowerCase())||e.customer.last_name.toLowerCase().includes(this.orderFilter.toLowerCase())||s.toLowerCase().includes(this.orderFilter.toLowerCase())||e.status_text.toLowerCase().includes(this.orderFilter.toLowerCase())||e.order_pin.toLowerCase().includes(this.orderFilter.toLowerCase())||e.order_date.toLowerCase().includes(this.orderFilter.toLowerCase())||e.ao_text.toLowerCase().includes(this.orderFilter.toLowerCase())||e.service_method_text.toLowerCase().includes(this.orderFilter.toLowerCase())||e.price.includes(this.orderFilter)||e.change_for.includes(this.orderFilter)})),this.ordersFiltered=e}}),1e3)},optionsDate(e){var s=e.split(" ")[0];return console.log(s.replaceAll("/","-")),Ur()(new Date(s)).format("YYYY/MM/DD")}}});var Ar=l(4260),Rr=l(4842),Lr=l(7030),Er=l(682),Fr=l(8240),Hr=l(2448),Gr=l(4554),Mr=l(3944),Nr=l(643),Br=l(6778),Yr=l(151),Qr=l(5589),Zr=l(9367),Kr=l(6489),$r=l(677),Xr=l(7518),Jr=l.n(Xr);const eo=(0,Ar.Z)(Pr,[["render",Tr],["__scopeId","data-v-fb6a44da"]]),so=eo;Jr()(Pr,"components",{QInput:Rr.Z,QChip:Lr.Z,QSpinnerTail:Er.Z,QBtn:Fr.Z,QSelect:Hr.Z,QIcon:Gr.Z,QPopupProxy:Mr.Z,QDate:Nr.Z,QDialog:Br.Z,QCard:Yr.Z,QCardSection:Qr.Z,QCardActions:Zr.Z}),Jr()(Pr,"directives",{Ripple:Kr.Z,ClosePopup:$r.Z})},6700:(e,s,l)=>{var r={"./af":5809,"./af.js":5809,"./ar":6069,"./ar-dz":481,"./ar-dz.js":481,"./ar-kw":3994,"./ar-kw.js":3994,"./ar-ly":3312,"./ar-ly.js":3312,"./ar-ma":239,"./ar-ma.js":239,"./ar-sa":1863,"./ar-sa.js":1863,"./ar-tn":9607,"./ar-tn.js":9607,"./ar.js":6069,"./az":9281,"./az.js":9281,"./be":9945,"./be.js":9945,"./bg":9384,"./bg.js":9384,"./bm":1476,"./bm.js":1476,"./bn":3345,"./bn-bd":216,"./bn-bd.js":216,"./bn.js":3345,"./bo":1713,"./bo.js":1713,"./br":9655,"./br.js":9655,"./bs":7296,"./bs.js":7296,"./ca":3049,"./ca.js":3049,"./cs":8393,"./cs.js":8393,"./cv":8039,"./cv.js":8039,"./cy":5563,"./cy.js":5563,"./da":1960,"./da.js":1960,"./de":7533,"./de-at":6674,"./de-at.js":6674,"./de-ch":7732,"./de-ch.js":7732,"./de.js":7533,"./dv":8343,"./dv.js":8343,"./el":7004,"./el.js":7004,"./en-au":2517,"./en-au.js":2517,"./en-ca":4929,"./en-ca.js":4929,"./en-gb":9722,"./en-gb.js":9722,"./en-ie":6923,"./en-ie.js":6923,"./en-il":8050,"./en-il.js":8050,"./en-in":9624,"./en-in.js":9624,"./en-nz":540,"./en-nz.js":540,"./en-sg":4375,"./en-sg.js":4375,"./eo":40,"./eo.js":40,"./es":9720,"./es-do":5595,"./es-do.js":5595,"./es-mx":180,"./es-mx.js":180,"./es-us":1563,"./es-us.js":1563,"./es.js":9720,"./et":9217,"./et.js":9217,"./eu":9474,"./eu.js":9474,"./fa":5243,"./fa.js":5243,"./fi":7645,"./fi.js":7645,"./fil":5350,"./fil.js":5350,"./fo":5622,"./fo.js":5622,"./fr":1467,"./fr-ca":3439,"./fr-ca.js":3439,"./fr-ch":4335,"./fr-ch.js":4335,"./fr.js":1467,"./fy":6026,"./fy.js":6026,"./ga":2969,"./ga.js":2969,"./gd":1347,"./gd.js":1347,"./gl":1085,"./gl.js":1085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":9597,"./gom-latn.js":9597,"./gu":8705,"./gu.js":8705,"./he":9128,"./he.js":9128,"./hi":2821,"./hi.js":2821,"./hr":9002,"./hr.js":9002,"./hu":4814,"./hu.js":4814,"./hy-am":658,"./hy-am.js":658,"./id":9344,"./id.js":9344,"./is":8204,"./is.js":8204,"./it":376,"./it-ch":1549,"./it-ch.js":1549,"./it.js":376,"./ja":9293,"./ja.js":9293,"./jv":6401,"./jv.js":6401,"./ka":482,"./ka.js":482,"./kk":7329,"./kk.js":7329,"./km":4241,"./km.js":4241,"./kn":3566,"./kn.js":3566,"./ko":2742,"./ko.js":2742,"./ku":2915,"./ku.js":2915,"./ky":6846,"./ky.js":6846,"./lb":4959,"./lb.js":4959,"./lo":2188,"./lo.js":2188,"./lt":8967,"./lt.js":8967,"./lv":1245,"./lv.js":1245,"./me":751,"./me.js":751,"./mi":7501,"./mi.js":7501,"./mk":1643,"./mk.js":1643,"./ml":5597,"./ml.js":5597,"./mn":7612,"./mn.js":7612,"./mr":9065,"./mr.js":9065,"./ms":4703,"./ms-my":4645,"./ms-my.js":4645,"./ms.js":4703,"./mt":4365,"./mt.js":4365,"./my":3788,"./my.js":3788,"./nb":7357,"./nb.js":7357,"./ne":9109,"./ne.js":9109,"./nl":3746,"./nl-be":1985,"./nl-be.js":1985,"./nl.js":3746,"./nn":7175,"./nn.js":7175,"./oc-lnc":566,"./oc-lnc.js":566,"./pa-in":2733,"./pa-in.js":2733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":7839,"./pt-br.js":7839,"./pt.js":505,"./ro":9578,"./ro.js":9578,"./ru":2328,"./ru.js":2328,"./sd":641,"./sd.js":641,"./se":1758,"./se.js":1758,"./si":6680,"./si.js":6680,"./sk":5016,"./sk.js":5016,"./sl":7424,"./sl.js":7424,"./sq":8635,"./sq.js":8635,"./sr":9038,"./sr-cyrl":3716,"./sr-cyrl.js":3716,"./sr.js":9038,"./ss":4771,"./ss.js":4771,"./sv":3517,"./sv.js":3517,"./sw":9419,"./sw.js":9419,"./ta":5959,"./ta.js":5959,"./te":1739,"./te.js":1739,"./tet":2264,"./tet.js":2264,"./tg":4792,"./tg.js":4792,"./th":8328,"./th.js":8328,"./tk":702,"./tk.js":702,"./tl-ph":7814,"./tl-ph.js":7814,"./tlh":797,"./tlh.js":797,"./tr":6691,"./tr.js":6691,"./tzl":6891,"./tzl.js":6891,"./tzm":6362,"./tzm-latn":7855,"./tzm-latn.js":7855,"./tzm.js":6362,"./ug-cn":7606,"./ug-cn.js":7606,"./uk":513,"./uk.js":513,"./ur":3803,"./ur.js":3803,"./uz":344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":344,"./vi":3,"./vi.js":3,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":2083,"./yo.js":2083,"./zh-cn":4536,"./zh-cn.js":4536,"./zh-hk":2475,"./zh-hk.js":2475,"./zh-mo":1515,"./zh-mo.js":1515,"./zh-tw":4746,"./zh-tw.js":4746};function o(e){var s=a(e);return l(s)}function a(e){if(!l.o(r,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=6700}}]);