(globalThis["webpackChunkofs_2_0"]=globalThis["webpackChunkofs_2_0"]||[]).push([[729],{3871:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>Mr});var r=l(9835),o=l(6970);const a=e=>((0,r.dD)("data-v-fb6a44da"),e=e(),(0,r.Cn)(),e),i={class:"q-pa-lg",style:{"padding-right":"0px"}},t={class:"q-pa-md row order-header"},d={class:"col-md-10 col-sm-9 col-xs-12"},c=a((()=>(0,r._)("b",null,"Store Name:",-1))),n={class:"col-md-2 col-sm-3 col-xs-12"},_=a((()=>(0,r._)("b",null,"Date:",-1))),u={class:"col-md-3 col-sm-5 col-xs-12"},m=a((()=>(0,r._)("div",{class:"col-9 row",style:{"padding-left":"10px"}},[(0,r._)("div",{class:"col-3"}),(0,r._)("div",{class:"col-9"})],-1))),p={class:"row"},h={key:0,class:"q-pa-sm col-md-3 col-sm-5 col-xs-12 order-cards"},w=["onClickCapture"],v={class:"row"},g={class:"col"},b={class:"row"},k={class:"col-7"},y={class:"col-5",style:{"font-size":"11px","text-align":"right"}},f={class:"row"},x={class:"col"},j={class:"row"},D={class:"col"},z={class:"row"},C={class:"col"},q={class:"row"},T={class:"col"},W={key:1,class:"q-pa-sm col-md-3 col-sm-5 col-xs-12",style:{overflow:"auto","max-height":"77vh","padding-left":"4px","border-right":"2px solid #DEDEDE"}},V={key:0},S=["onClickCapture"],U={class:"row"},I={class:"col"},O={class:"row"},P={class:"col-7"},A={class:"col-5",style:{"font-size":"11px","text-align":"right"}},R={class:"row"},L={class:"col"},E={class:"row"},F={class:"col"},H={class:"row"},G={class:"col"},M={class:"row"},N={class:"col"},B={key:2,class:"col-9"},Y=a((()=>(0,r._)("div",{style:{display:"block","margin-left":"auto","margin-right":"auto","margin-top":"250px","text-align":"center"}}," No Order Selected ",-1))),Q=[Y],Z={key:3,class:"col-9"},K={class:"row q-pa-md order-details-header"},$={class:"row col"},X=a((()=>(0,r._)("b",{class:"col-10",style:{color:"#5C5C5C"}},"Order Details",-1))),J={class:"row q-pa-md bg-white"},ee={class:"col-md-4 col-sm-6 col-xs-12"},se=a((()=>(0,r._)("b",null,"Order Number:",-1))),le={class:"col-md-4 col-sm-6 col-xs-12"},re=a((()=>(0,r._)("b",null,"Service Method:",-1))),oe={key:0},ae={key:1},ie={class:"col-md-4 col-sm-6 col-xs-12"},te=a((()=>(0,r._)("b",null,"Status:",-1))),de=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}},"Customer Details")])],-1))),ce={class:"row q-pa-md bg-white"},ne={class:"col-md-6 col-sm-6 col-xs-12 q-pa-sm"},_e=a((()=>(0,r._)("b",null,"Name:",-1))),ue={class:"col-md-6 col-sm-6 col-xs-12 q-pa-sm"},me=a((()=>(0,r._)("b",null,"Email:",-1))),pe={class:"col-md-6 col-sm-6 col-xs-12 q-pa-sm"},he=a((()=>(0,r._)("b",null,"Phone Number:",-1))),we={class:"col-md-6 col-xs-12 q-pa-sm"},ve=a((()=>(0,r._)("b",null,"Address:",-1))),ge=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}},"Order Summary")])],-1))),be={class:"row q-pa-md bg-white"},ke={class:"col-1 q-pa-sm"},ye={class:"col-md-9 col-sm-9 col-xs-7 q-pa-sm"},fe={class:"col-md-2 col-sm-2 col-xs-4 q-pa-sm"},xe=a((()=>(0,r._)("div",{class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},[(0,r._)("b",null,"Payment:")],-1))),je={class:"col-md-8 col-sm-8 col-xs-6 q-pa-sm"},De=a((()=>(0,r._)("div",{class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},[(0,r._)("b",null,"Sub Total:")],-1))),ze={class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},Ce=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}},"Price Breakdown")])],-1))),qe={class:"row q-pa-md bg-white"},Te=a((()=>(0,r._)("div",{class:"col-md-10 col-sm-10 col-xs-6 q-pa-sm"}," Total with VAT ",-1))),We={class:"col-md-2 col-sm-2 col-xs-6 q-pa-sm"},Ve=a((()=>(0,r._)("div",{class:"col-md-10 col-sm-10 col-xs-6 q-pa-sm"}," Delivery Charge ",-1))),Se={class:"col-md-2 col-sm-2 col-xs-6 q-pa-sm"},Ue={key:0,class:"col-md-10 col-sm-10 col-xs-6 q-pa-sm"},Ie={key:1,class:"col-md-10 col-sm-10 col-xs-6 q-pa-sm"},Oe={key:2,class:"col-md-2 col-sm-2 col-xs-6 q-pa-sm"},Pe=a((()=>(0,r._)("div",{class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},[(0,r._)("b",null,"Payment:")],-1))),Ae={class:"col-md-8 col-sm-8 col-xs-6 q-pa-sm"},Re=a((()=>(0,r._)("div",{class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},[(0,r._)("b",null,"Grand Total:")],-1))),Le={class:"col-md-1 col-sm-1 col-xs-6 q-pa-sm"},Ee=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}},"Order Remarks")])],-1))),Fe={class:"row q-pa-md bg-white",style:{"margin-bottom":"10px"}},He={class:"col-12 row q-pa-sm"},Ge={class:"col-12"},Me={class:"row q-pa-md bg-white",style:{"margin-bottom":"10px"}},Ne={class:"col-12 row q-pa-sm"},Be={class:"col-sm-2 col-xs-6"},Ye={class:"col-sm-2 col-xs-6"},Qe=a((()=>(0,r._)("div",{class:"row q-pa-md"},[(0,r._)("div",{class:"col"},[(0,r._)("b",{style:{color:"#5C5C5C"}})])],-1))),Ze={key:0,class:"row q-pa-md bg-white shadow-2 order-status-float"},Ke={class:"col-md-10 col-sm-10 cols-xs-12 row q-pa-sm"},$e={class:"col-12"},Xe=a((()=>(0,r._)("b",null,"Update Status: ",-1))),Je={key:0},es={key:1},ss={key:2},ls={key:3},rs={key:4},os={key:0,class:"col-12"},as=a((()=>(0,r._)("span",null,"Dispatcher name:",-1))),is={key:1,class:"col-sm-6"},ts=a((()=>(0,r._)("span",null,"Select Carrier:",-1))),ds={key:2,class:"col-sm-6"},cs={key:0},ns=a((()=>(0,r._)("span",null,"Rider name:",-1))),_s={key:3,class:"col-12 row"},us={class:"col-sm-5 col-xs-12 q-pa-xs"},ms={class:"row items-center justify-end"},ps={class:"col-sm-2 col-xs-12 q-pa-xs"},hs={class:"col-sm-2 col-xs-12 q-pa-xs"},ws={class:"col-sm-2 col-xs-12 q-pa-xs"},vs={key:4},gs={key:0},bs={key:1},ks={key:2},ys={class:"col-md-2 col-sm-2 cols-xs-12 row q-pa-sm"},fs=a((()=>(0,r._)("div",{class:"text-h6"},"Alert",-1))),xs=a((()=>(0,r._)("span",{class:"q-ml-sm"},"Confirm Close Transaction?",-1))),js=a((()=>(0,r._)("div",{class:"text-h6"},"Invoice",-1))),Ds={class:"row"},zs=a((()=>(0,r._)("div",{class:"col-6 text-h6"},[(0,r._)("b",null,"Order No.:")],-1))),Cs={class:"col-6 text-h6"},qs=a((()=>(0,r._)("div",{class:"col-6"},"Order Type:",-1))),Ts={class:"col-6"},Ws=a((()=>(0,r._)("div",{class:"col-6"},"Payment Type:",-1))),Vs={class:"col-6"},Ss=a((()=>(0,r._)("div",{class:"col-6"},"Order Date:",-1))),Us={class:"col-6"},Is=a((()=>(0,r._)("div",{class:"col-6"},"Delivery Date:",-1))),Os={class:"col-6"},Ps=a((()=>(0,r._)("div",{class:"col-6"},"Print Count:",-1))),As={class:"col-6"},Rs=a((()=>(0,r._)("div",{class:"col-6"},"Type:",-1))),Ls={class:"col-6"},Es=a((()=>(0,r._)("div",{class:"col-6"},"Customer Name:",-1))),Fs={class:"col-6"},Hs={class:"row"},Gs=a((()=>(0,r._)("div",{class:"col-12 text-h6"},[(0,r._)("b",null,"Address")],-1))),Ms=a((()=>(0,r._)("div",{class:"col-6"},"Delivery Address:",-1))),Ns={class:"col-6"},Bs=a((()=>(0,r._)("div",{class:"col-6"},"City:",-1))),Ys={class:"col-6"},Qs=a((()=>(0,r._)("div",{class:"col-6"},"Landmarks:",-1))),Zs={class:"col-6"},Ks=a((()=>(0,r._)("div",{class:"col-6"},"Address Remarks:",-1))),$s={class:"col-6"},Xs=a((()=>(0,r._)("div",{class:"col-6"},"Proximity Distance:",-1))),Js={class:"col-6"},el={class:"row"},sl=a((()=>(0,r._)("div",{class:"col-12 text-h6"},[(0,r._)("b",null,"Item Details")],-1))),ll=a((()=>(0,r._)("div",{class:"col-3"},"Item",-1))),rl=a((()=>(0,r._)("div",{class:"col-3"},"Description",-1))),ol=a((()=>(0,r._)("div",{class:"col-3"},"Quantity",-1))),al=a((()=>(0,r._)("div",{class:"col-3"},"Total",-1))),il={class:"col-3"},tl={class:"col-3"},dl={class:"col-3"},cl={class:"col-3"},nl=a((()=>(0,r._)("div",{class:"col-6",style:{"margin-top":"10px"}},"Order Remarks:",-1))),_l={class:"col-6",style:{"margin-top":"10px"}},ul=a((()=>(0,r._)("div",{class:"row",style:{"margin-top":"10px"}},null,-1))),ml={key:0,class:"row"},pl=a((()=>(0,r._)("div",{class:"col-6"},"S.C. ID:",-1))),hl={class:"col-6"},wl={key:1,class:"row"},vl=a((()=>(0,r._)("div",{class:"col-6"},"PWD ID:",-1))),gl={class:"col-6"},bl=a((()=>(0,r._)("div",{class:"row",style:{"margin-top":"10px"}},null,-1))),kl={class:"row"},yl=a((()=>(0,r._)("div",{class:"col-6"},"Delivery Charge:",-1))),fl={class:"col-6"},xl=a((()=>(0,r._)("div",{class:"col-6"},"Discount:",-1))),jl={class:"col-6"},Dl={key:0,class:"col-6"},zl={key:1,class:"col-6"},Cl={key:2,class:"col-6"},ql={key:3,class:"col-6"},Tl=a((()=>(0,r._)("div",{class:"col-6"},"Total:",-1))),Wl={class:"col-6"},Vl=a((()=>(0,r._)("div",{class:"col-6"},"Tendered Amount:",-1))),Sl={class:"col-6"},Ul=a((()=>(0,r._)("div",{class:"col-6"},"Vouchers Amount:",-1))),Il={class:"col-6"},Ol=a((()=>(0,r._)("div",{class:"col-6"},"Change Amount:",-1))),Pl={class:"col-6"},Al=a((()=>(0,r._)("div",{class:"row",style:{"margin-top":"10px"}},null,-1))),Rl={class:"row"},Ll=a((()=>(0,r._)("div",{class:"col-6"},"Rider:",-1))),El={class:"col-6"},Fl=a((()=>(0,r._)("div",{class:"col-6"},"Dispatcher:",-1))),Hl={class:"col-6"},Gl=a((()=>(0,r._)("div",{class:"col-6"},"Agent:",-1))),Ml={class:"col-6"},Nl=a((()=>(0,r._)("div",{class:"col-12",style:{"margin-top":"10px"}},null,-1))),Bl=a((()=>(0,r._)("div",{class:"col-12"},"Thank You!",-1))),Yl=a((()=>(0,r._)("div",{class:"text-h6"},"Process Time",-1))),Ql={class:"row"},Zl=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Received")],-1))),Kl={class:"col-6"},$l=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Acknowledged")],-1))),Xl={class:"col-6"},Jl=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Rider Assigned")],-1))),er={class:"col-6"},sr=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Rider Out")],-1))),lr={class:"col-6"},rr=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Rider Back")],-1))),or={class:"col-6"},ar=a((()=>(0,r._)("div",{class:"col-6"},[(0,r._)("b",null,"Customer Receive Time ")],-1))),ir={class:"col-6"},tr=a((()=>(0,r._)("div",{class:"text-h6"},"Hub Declaration",-1))),dr={class:"text-h6"},cr=a((()=>(0,r._)("div",{class:"text-h6"},"Hold Schedule",-1))),nr={class:"row"},_r=a((()=>(0,r._)("div",{class:"col-4"},[(0,r._)("b",null,"From Time")],-1))),ur=a((()=>(0,r._)("div",{class:"col-4"},[(0,r._)("b",null,"To Time")],-1))),mr=a((()=>(0,r._)("div",{class:"col-4"},[(0,r._)("b",null,"Hold Date")],-1))),pr={class:"col-4"},hr={class:"col-4"},wr={class:"col-4"},vr=a((()=>(0,r._)("div",{class:"text-h6"},"Alert",-1)));function gr(e,s,l,a,Y,gr){const br=(0,r.up)("q-input"),kr=(0,r.up)("q-chip"),yr=(0,r.up)("q-spinner-tail"),fr=(0,r.up)("q-btn"),xr=(0,r.up)("q-select"),jr=(0,r.up)("q-date"),Dr=(0,r.up)("q-popup-proxy"),zr=(0,r.up)("q-icon"),Cr=(0,r.up)("q-card-section"),qr=(0,r.up)("q-card-actions"),Tr=(0,r.up)("q-card"),Wr=(0,r.up)("q-dialog"),Vr=(0,r.Q2)("ripple"),Sr=(0,r.Q2)("close-popup");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",t,[(0,r._)("div",d,[(0,r._)("div",null,[c,(0,r.Uk)(" "+(0,o.zw)(e.user.store_name),1)])]),(0,r._)("div",n,[(0,r._)("div",null,[_,(0,r.Uk)(" "+(0,o.zw)(this.todate),1)])]),(0,r._)("div",u,[(0,r.Wm)(br,{onKeyup:e.filterOrders,label:"Search",dense:"",filled:"",modelValue:e.orderFilter,"onUpdate:modelValue":s[0]||(s[0]=s=>e.orderFilter=s)},null,8,["onKeyup","modelValue"])]),m]),(0,r._)("div",p,[""==e.orderFilter?((0,r.wg)(),(0,r.iD)("div",h,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.orders,((s,l)=>(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{key:l,class:(0,o.C_)("relative-position order-tab "+(e.order.id==s.id?"selected ":"")+e.order_color_coding(s.status_id,s.running_lapsed,s.view_status,s.is_advance,s.advance_ready)),onClickCapture:l=>(e.orderDetails({id:s.id,loading:!0}),e.resetForm(),e.checkMobileDesktop())},[(0,r._)("div",v,[(0,r._)("div",g,[(0,r._)("b",null,"Status: "+(0,o.zw)(s.status_text),1)])]),(0,r._)("div",b,[(0,r._)("div",k,[(0,r._)("div",null,"Order No: "+(0,o.zw)(s.order_pin),1),(0,r._)("div",null,"Customer: "+(0,o.zw)(s.customer.first_name)+" "+(0,o.zw)(s.customer.last_name),1)]),(0,r._)("div",y,[(0,r._)("div",f,[(0,r._)("div",x,"Price: "+(0,o.zw)(s.price),1)]),(0,r._)("div",j,[(0,r._)("div",D,"Change for: "+(0,o.zw)(s.change_for),1)]),(0,r._)("div",z,[(0,r._)("div",C,"Order Date: "+(0,o.zw)(s.order_date),1)])])]),(0,r._)("div",q,[(0,r._)("div",T,[""!=s.ao_text?((0,r.wg)(),(0,r.j4)(kr,{key:0,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(s.ao_text),1)])),_:2},1024)):(0,r.kq)("",!0),3===s.payment_id||5===s.payment_id&&1==s.bank_transfer_payment_confirmed?((0,r.wg)(),(0,r.j4)(kr,{key:1,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("PAID")])),_:1})):(0,r.kq)("",!0),5===s.payment_id&&0==s.bank_transfer_payment_confirmed?((0,r.wg)(),(0,r.j4)(kr,{key:2,size:"12px",dense:"","text-color":"white",color:"orange"},{default:(0,r.w5)((()=>[(0,r.Uk)("UNPAID")])),_:1})):(0,r.kq)("",!0),"2"==s.service_method_id?((0,r.wg)(),(0,r.j4)(kr,{key:3,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("PICKUP")])),_:1})):(0,r.kq)("",!0),s.edit_count>0?((0,r.wg)(),(0,r.j4)(kr,{key:4,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("UPDATED ("+(0,o.zw)(s.edit_count)+")",1)])),_:2},1024)):(0,r.kq)("",!0)])])],42,w)),[[Vr]]))),128))])):(0,r.kq)("",!0),""!=e.orderFilter?((0,r.wg)(),(0,r.iD)("div",W,[0==e.ordersFiltered.length?((0,r.wg)(),(0,r.iD)("div",V,"No Result")):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.ordersFiltered,((s,l)=>(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{key:l,class:(0,o.C_)("relative-position order-tab "+(e.order.id==s.id?"selected ":"")+e.order_color_coding(s.status_id,s.running_lapsed,s.view_status,s.is_advance,s.advance_ready)),onClickCapture:l=>e.orderDetails({id:s.id,loading:!0})},[(0,r._)("div",U,[(0,r._)("div",I,[(0,r._)("b",null,"Status: "+(0,o.zw)(s.status_text),1)])]),(0,r._)("div",O,[(0,r._)("div",P,[(0,r._)("div",null,"Order No: "+(0,o.zw)(s.order_pin),1),(0,r._)("div",null,"Customer: "+(0,o.zw)(s.customer.first_name)+" "+(0,o.zw)(s.customer.last_name),1)]),(0,r._)("div",A,[(0,r._)("div",R,[(0,r._)("div",L,"Price: "+(0,o.zw)(s.price),1)]),(0,r._)("div",E,[(0,r._)("div",F,"Change for: "+(0,o.zw)(s.change_for),1)]),(0,r._)("div",H,[(0,r._)("div",G,"Order Date: "+(0,o.zw)(s.order_date),1)])])]),(0,r._)("div",M,[(0,r._)("div",N,[""!=s.ao_text?((0,r.wg)(),(0,r.j4)(kr,{key:0,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(s.ao_text),1)])),_:2},1024)):(0,r.kq)("",!0),3===s.payment_id||5===s.payment_id&&1==s.bank_transfer_payment_confirmed?((0,r.wg)(),(0,r.j4)(kr,{key:1,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("PAID")])),_:1})):(0,r.kq)("",!0),5===s.payment_id&&0==s.bank_transfer_payment_confirmed?((0,r.wg)(),(0,r.j4)(kr,{key:2,size:"12px",dense:"","text-color":"white",color:"orange"},{default:(0,r.w5)((()=>[(0,r.Uk)("UNPAID")])),_:1})):(0,r.kq)("",!0),"2"==s.service_method_id?((0,r.wg)(),(0,r.j4)(kr,{key:3,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("PICKUP")])),_:1})):(0,r.kq)("",!0),s.edit_count>0?((0,r.wg)(),(0,r.j4)(kr,{key:4,size:"12px",dense:"","text-color":"white",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("UPDATED ("+(0,o.zw)(s.edit_count)+")",1)])),_:2},1024)):(0,r.kq)("",!0)])])],42,S)),[[Vr]]))),128))])):(0,r.kq)("",!0),e.order.hasOwnProperty("id")||e.orderLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",B,Q)),e.orderLoading?((0,r.wg)(),(0,r.iD)("div",Z,[(0,r.Wm)(yr,{style:{display:"block","margin-left":"auto","margin-right":"auto","margin-top":"250px"},color:"primary",size:"5em"})])):(0,r.kq)("",!0),e.order.hasOwnProperty("id")&&!e.orderLoading?((0,r.wg)(),(0,r.iD)("div",{key:4,class:(0,o.C_)("col-md-9 col-sm-7 col-xs-12 order-details "+e.hideShow)},[(0,r._)("div",K,[(0,r._)("div",$,[X,(0,r.Wm)(fr,{onClickCapture:s[1]||(s[1]=s=>e.hideShow="hide"),class:"col-2",label:"Back",color:"primary",flat:"",dense:""})])]),(0,r._)("div",J,[(0,r._)("div",ee,[se,(0,r.Uk)(),(0,r.Wm)(fr,{dense:"",flat:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.order.order_pin),1)])),_:1})]),(0,r._)("div",le,[re,(0,r.Uk)(),1==e.order.service_method_id?((0,r.wg)(),(0,r.iD)("span",oe,"Delivery")):(0,r.kq)("",!0),2==e.order.service_method_id?((0,r.wg)(),(0,r.iD)("span",ae,"For Pickup")):(0,r.kq)("",!0)]),(0,r._)("div",ie,[te,(0,r.Uk)(" "+(0,o.zw)(e.order.status_text),1)])]),de,(0,r._)("div",ce,[(0,r._)("div",ne,[_e,(0,r.Uk)(" "+(0,o.zw)(e.order.customer.first_name)+" "+(0,o.zw)(e.order.customer.last_name),1)]),(0,r._)("div",ue,[me,(0,r.Uk)(" "+(0,o.zw)(e.order.customer.email_address),1)]),(0,r._)("div",pe,[he,(0,r.Uk)(" "+(0,o.zw)(e.order.delivery_address.contact_number),1)]),(0,r._)("div",we,[ve,(0,r.Uk)(" "+(0,o.zw)(e.order.delivery_address.address),1)])]),ge,(0,r._)("div",be,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.order.order_items,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s,class:"col-12 row"},[(0,r._)("div",ke,[(0,r._)("b",null,(0,o.zw)(e.quantity)+"X",1)]),(0,r._)("div",ye,(0,o.zw)(e.product.name),1),(0,r._)("div",fe," ₱ "+(0,o.zw)(e.gross_price),1)])))),128)),xe,(0,r._)("div",je,(0,o.zw)(e.order.payment_text)+" - P "+(0,o.zw)(e.order.tendered_amount),1),De,(0,r._)("div",ze," ₱ "+(0,o.zw)(e.order.total_w_vat),1)]),Ce,(0,r._)("div",qe,[Te,(0,r._)("div",We," ₱ "+(0,o.zw)(e.order.total_w_vat),1),Ve,(0,r._)("div",Se," ₱ "+(0,o.zw)(e.order.delivery_charge),1),e.order.is_scd?((0,r.wg)(),(0,r.iD)("div",Ue," Senior Discount ")):(0,r.kq)("",!0),e.order.is_pwd?((0,r.wg)(),(0,r.iD)("div",Ie," PWD Discount ")):(0,r.kq)("",!0),e.order.total_discounts>0?((0,r.wg)(),(0,r.iD)("div",Oe," - ₱ "+(0,o.zw)(e.order.total_discounts),1)):(0,r.kq)("",!0),Pe,(0,r._)("div",Ae,(0,o.zw)(e.order.payment_text)+" - P "+(0,o.zw)(e.order.tendered_amount),1),Re,(0,r._)("div",Le," ₱ "+(0,o.zw)(e.order.total_gross),1)]),Ee,(0,r._)("div",Fe,[(0,r._)("div",He,[(0,r._)("div",Ge,(0,o.zw)(e.order.order_remarks),1)])]),(0,r._)("div",Me,[(0,r._)("div",Ne,[(0,r._)("div",Be,[(0,r.Wm)(fr,{onClickCapture:s[2]||(s[2]=s=>e.invoice=!0),flat:"",dense:"",style:{background:"#58AF00",color:"white","border-radius":"30px",width:"120px",height:"30px"},label:"Invoice"})]),(0,r._)("div",Ye,[(0,r.Wm)(fr,{onClickCapture:s[3]||(s[3]=s=>e.processTime=!0),flat:"",dense:"",style:{background:"#58AF00",color:"white","border-radius":"30px",width:"120px",height:"30px"},label:"Process Time"})])])]),Qe,5!=e.order.status&&6!=e.order.status?((0,r.wg)(),(0,r.iD)("div",Ze,[(0,r._)("div",Ke,[(0,r._)("div",$e,[Xe,1!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",Je,"Received to Acknowledge")),2!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",es,"Acknowledge to Rider Assign")),8!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",ss,"Rider Assign to Rider Out")),3!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",ls,"Rider Out to Rider Back")),4!==e.order.status||e.order.delivery_booking?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",rs,"Rider Back to Close Order"))]),1===e.order.status?((0,r.wg)(),(0,r.iD)("div",os,[as,(0,r.Wm)(br,{style:{"margin-left":"10px",width:"30%",display:"inline-block"},flat:"",dense:"",outlined:"",modelValue:e.dispatcher,"onUpdate:modelValue":s[4]||(s[4]=s=>e.dispatcher=s)},null,8,["modelValue"])])):(0,r.kq)("",!0),2===e.order.status&&null==e.order.delivery_booking?((0,r.wg)(),(0,r.iD)("div",is,[ts,(0,r.Wm)(xr,{style:{"margin-left":"10px",width:"70%",display:"inline-block"},flat:"",dense:"",outlined:"",modelValue:e.carrier,"onUpdate:modelValue":s[5]||(s[5]=s=>e.carrier=s),options:e.carriers,"option-label":"name","option-value":"alias"},null,8,["modelValue","options"])])):(0,r.kq)("",!0),2===e.order.status&&null==e.order.delivery_booking?((0,r.wg)(),(0,r.iD)("div",ds,[2===e.order.status&&"inhouse"==e.carrier.alias?((0,r.wg)(),(0,r.iD)("span",cs,[ns,(0,r.Wm)(br,{style:{"margin-left":"10px",width:"70%",display:"inline-block"},flat:"",dense:"",outlined:"",modelValue:e.ridername,"onUpdate:modelValue":s[6]||(s[6]=s=>e.ridername=s)},null,8,["modelValue"])])):(0,r.kq)("",!0)])):(0,r.kq)("",!0),4===e.order.status?((0,r.wg)(),(0,r.iD)("div",_s,[(0,r._)("div",us,[(0,r.Wm)(br,{label:"Date",outlined:"",dense:"",flat:"",modelValue:e.receivedTime.date,"onUpdate:modelValue":s[8]||(s[8]=s=>e.receivedTime.date=s)},{append:(0,r.w5)((()=>[(0,r.Wm)(zr,{name:"event",class:"cursor-pointer"},{default:(0,r.w5)((()=>[(0,r.Wm)(Dr,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Wm)(jr,{modelValue:e.receivedTime.date,"onUpdate:modelValue":s[7]||(s[7]=s=>e.receivedTime.date=s),mask:"MM/DD/YYYY",options:s=>s>=e.optionsDate(e.order.order_date)},{default:(0,r.w5)((()=>[(0,r._)("div",ms,[(0,r.wy)((0,r.Wm)(fr,{label:"Close",color:"primary",flat:""},null,512),[[Sr]])])])),_:1},8,["modelValue","options"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,r._)("div",ps,[(0,r.Wm)(xr,{label:"Hour",flat:"",dense:"",outlined:"",modelValue:e.receivedTime.hour,"onUpdate:modelValue":s[9]||(s[9]=s=>e.receivedTime.hour=s),options:e.hour},null,8,["modelValue","options"])]),(0,r._)("div",hs,[(0,r.Wm)(xr,{label:"Minute",flat:"",dense:"",outlined:"",modelValue:e.receivedTime.minute,"onUpdate:modelValue":s[10]||(s[10]=s=>e.receivedTime.minute=s),options:e.minute},null,8,["modelValue","options"])]),(0,r._)("div",ws,[(0,r.Wm)(xr,{label:"AM/PM",flat:"",dense:"",outlined:"",modelValue:e.receivedTime.ampm,"onUpdate:modelValue":s[11]||(s[11]=s=>e.receivedTime.ampm=s),options:e.ampm},null,8,["modelValue","options"])])])):(0,r.kq)("",!0),null!==e.order.delivery_booking?((0,r.wg)(),(0,r.iD)("div",vs,[(0,r.Uk)(" GrabExpress - "+(0,o.zw)(e.order.delivery_booking.status)+" ",1),e.order.delivery_booking.pickup_pin?((0,r.wg)(),(0,r.iD)("div",gs,[(0,r.Uk)("Delivery ID - "),(0,r._)("b",null,(0,o.zw)(e.order.delivery_booking.delivery_id),1)])):(0,r.kq)("",!0),e.order.delivery_booking.pickup_pin?((0,r.wg)(),(0,r.iD)("div",bs,[(0,r.Uk)("Merchant Order ID - "),(0,r._)("b",null,(0,o.zw)(e.order.delivery_booking.order_id),1)])):(0,r.kq)("",!0),e.order.delivery_booking.pickup_pin?((0,r.wg)(),(0,r.iD)("div",ks,[(0,r.Uk)("Pickup PIN - "),(0,r._)("b",null,(0,o.zw)(e.order.delivery_booking.pickup_pin),1)])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]),(0,r._)("div",ys,[null==e.order.delivery_booking?((0,r.wg)(),(0,r.j4)(fr,{key:0,loading:e.orderStatusLoading||e.grabLoading,onClickCapture:s[12]||(s[12]=s=>e.updateOrderStatus()),flat:"",dense:"",style:{background:"#58AF00",color:"white","border-radius":"30px",width:"80px",height:"30px"},label:"next"},null,8,["loading"])):(0,r.kq)("",!0),null!=e.order.delivery_booking?((0,r.wg)(),(0,r.j4)(fr,{key:1,disabled:"QUEUEING"!=e.order.delivery_booking.status,loading:e.grabLoading,onClickCapture:s[13]||(s[13]=s=>e.cancelGrabBooking({order_id:e.order.id})),flat:"",dense:"",style:{background:"#58AF00",color:"white","border-radius":"30px",width:"140px",height:"30px"},label:"Cancel Booking"},null,8,["disabled","loading"])):(0,r.kq)("",!0)])])):(0,r.kq)("",!0)],2)):(0,r.kq)("",!0)]),(0,r.Wm)(Wr,{modelValue:e.confirm,"onUpdate:modelValue":s[15]||(s[15]=s=>e.confirm=s),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Tr,null,{default:(0,r.w5)((()=>[(0,r.Wm)(Cr,null,{default:(0,r.w5)((()=>[fs])),_:1}),(0,r.Wm)(Cr,{class:"row items-center"},{default:(0,r.w5)((()=>[xs])),_:1}),(0,r.Wm)(qr,{align:"right"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(fr,{flat:"",label:"Cancel",color:"primary"},null,512),[[Sr]]),(0,r.Wm)(fr,{flat:"",label:"Confirm",color:"primary",onClickCapture:s[14]||(s[14]=s=>(e.confirm=!1,e.orderClose({received_datetime:e.received_time,id:e.order.id})))})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Wr,{modelValue:e.invoice,"onUpdate:modelValue":s[16]||(s[16]=s=>e.invoice=s)},{default:(0,r.w5)((()=>[(0,r.Wm)(Tr,{style:{width:"800px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Cr,null,{default:(0,r.w5)((()=>[js])),_:1}),(0,r.Wm)(Cr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r._)("div",Ds,[zs,(0,r._)("div",Cs,[(0,r._)("b",null,(0,o.zw)(e.order.order_pin),1)]),qs,(0,r._)("div",Ts,(0,o.zw)(e.order.source_text),1),Ws,(0,r._)("div",Vs,(0,o.zw)(e.order.payment_text),1),Ss,(0,r._)("div",Us,(0,o.zw)(e.order.order_date),1),Is,(0,r._)("div",Os,(0,o.zw)(e.order.delivery_date),1),Ps,(0,r._)("div",As,(0,o.zw)(e.order.print_counter),1),Rs,(0,r._)("div",Ls,(0,o.zw)(1==e.order.service_method_id?"Delivery":"Pickup"),1),Es,(0,r._)("div",Fs,(0,o.zw)(e.order.customer.first_name+" "+e.order.customer.last_name),1)]),(0,r._)("div",Hs,[Gs,Ms,(0,r._)("div",Ns,(0,o.zw)(e.order.delivery_address.address),1),Bs,(0,r._)("div",Ys,(0,o.zw)(e.order.city_name),1),Qs,(0,r._)("div",Zs,(0,o.zw)(e.order.delivery_address.landmark_1),1),Ks,(0,r._)("div",$s,(0,o.zw)(e.order.delivery_address.remarks),1),Xs,(0,r._)("div",Js,(0,o.zw)(e.order.additional.distance_km+" km ("+e.order.additional.travel_time_mins+" mins approx. )"),1)]),(0,r._)("div",el,[sl,ll,rl,ol,al,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.order.order_items,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s,class:"col-12 row"},[(0,r._)("div",il,(0,o.zw)(e.product.name),1),(0,r._)("div",tl,(0,o.zw)(e.product.description),1),(0,r._)("div",dl,(0,o.zw)(e.quantity),1),(0,r._)("div",cl,(0,o.zw)(e.gross_price),1)])))),128)),nl,(0,r._)("div",_l,(0,o.zw)(e.order.order_remarks),1)]),ul,1==e.order.is_scd?((0,r.wg)(),(0,r.iD)("div",ml,[pl,(0,r._)("div",hl,(0,o.zw)(e.order.scd_id),1)])):(0,r.kq)("",!0),1==e.order.is_pwd?((0,r.wg)(),(0,r.iD)("div",wl,[vl,(0,r._)("div",gl,(0,o.zw)(e.order.pwd_id),1)])):(0,r.kq)("",!0),bl,(0,r._)("div",kl,[yl,(0,r._)("div",fl,(0,o.zw)(e.order.delivery_charge),1),xl,(0,r._)("div",jl,(0,o.zw)(e.order.total_discounts),1),1==e.order.is_scd?((0,r.wg)(),(0,r.iD)("div",Dl,"SCD Vat:")):(0,r.kq)("",!0),1==e.order.is_scd?((0,r.wg)(),(0,r.iD)("div",zl,(0,o.zw)(e.order.excess_vat),1)):(0,r.kq)("",!0),1==e.order.is_pwd?((0,r.wg)(),(0,r.iD)("div",Cl,"PWD Vat:")):(0,r.kq)("",!0),1==e.order.is_pwd?((0,r.wg)(),(0,r.iD)("div",ql,(0,o.zw)(e.order.excess_vat),1)):(0,r.kq)("",!0),Tl,(0,r._)("div",Wl,(0,o.zw)(e.order.total_gross),1),Vl,(0,r._)("div",Sl,(0,o.zw)(e.order.tendered_amount),1),Ul,(0,r._)("div",Il,(0,o.zw)(e.order.voucher_amount),1),Ol,(0,r._)("div",Pl,(0,o.zw)(e.order.change_amount),1)]),Al,(0,r._)("div",Rl,[Ll,(0,r._)("div",El,(0,o.zw)(e.order.rider_name),1),Fl,(0,r._)("div",Hl,(0,o.zw)(e.order.dispatcher),1),Gl,(0,r._)("div",Ml,(0,o.zw)(e.order.agent_name),1),Nl,Bl])])),_:1}),(0,r.Wm)(qr,{align:"right"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(fr,{flat:"",label:"Close",color:"primary"},null,512),[[Sr]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Wr,{modelValue:e.processTime,"onUpdate:modelValue":s[17]||(s[17]=s=>e.processTime=s)},{default:(0,r.w5)((()=>[(0,r.Wm)(Tr,{style:{width:"400px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Cr,null,{default:(0,r.w5)((()=>[Yl])),_:1}),(0,r.Wm)(Cr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r._)("div",Ql,[Zl,(0,r._)("div",Kl,(0,o.zw)(e.order.received_datetime),1),$l,(0,r._)("div",Xl,(0,o.zw)(e.order.acknowledged_datetime),1),Jl,(0,r._)("div",er,(0,o.zw)(e.order.rider_assigned_datetime),1),sr,(0,r._)("div",lr,(0,o.zw)(e.order.rider_out_datetime),1),rr,(0,r._)("div",or,(0,o.zw)(e.order.rider_back_datetime),1),ar,(0,r._)("div",ir,(0,o.zw)(e.order.customer_receive_datetime),1)])])),_:1}),(0,r.Wm)(qr,{align:"right"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(fr,{flat:"",label:"Close",color:"primary"},null,512),[[Sr]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Wr,{modelValue:e.hubdec,"onUpdate:modelValue":s[20]||(s[20]=s=>e.hubdec=s),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Tr,{style:{"min-width":"350px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Cr,null,{default:(0,r.w5)((()=>[tr])),_:1}),(0,r.Wm)(Cr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r.Wm)(br,{dense:"",type:"number",modelValue:e.hubdec_pin,"onUpdate:modelValue":s[18]||(s[18]=s=>e.hubdec_pin=s),label:"Enter your pin",autofocus:""},null,8,["modelValue"])])),_:1}),(0,r.Wm)(qr,{align:"right",class:"text-primary"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(fr,{flat:"",label:"Cancel"},null,512),[[Sr]]),(0,r.Wm)(fr,{loading:e.hubdecLoading,onClickCapture:s[19]||(s[19]=s=>e.verifyStore()),flat:"",label:"Submit"},null,8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Wr,{modelValue:e.hubdecForm,"onUpdate:modelValue":s[24]||(s[24]=s=>e.hubdecForm=s),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Tr,{style:{"min-width":"350px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Cr,null,{default:(0,r.w5)((()=>[(0,r._)("div",dr,"Hub Declaration for "+(0,o.zw)(0==e.hubdec_mins?"Hold":e.hubdec_mins+"min."),1)])),_:1}),(0,r.Wm)(Cr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r.Wm)(br,{dense:"",modelValue:e.hubdecAuthorizedBy,"onUpdate:modelValue":s[21]||(s[21]=s=>e.hubdecAuthorizedBy=s),label:"Authorized by",autofocus:""},null,8,["modelValue"]),(0,r.Wm)(br,{dense:"",modelValue:e.hubdecReason,"onUpdate:modelValue":s[22]||(s[22]=s=>e.hubdecReason=s),label:"Reason"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(qr,{align:"right",class:"text-primary"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(fr,{flat:"",label:"Cancel"},null,512),[[Sr]]),(0,r.Wm)(fr,{loading:e.hubdecLoading,onClickCapture:s[23]||(s[23]=s=>e.submitHubDec()),flat:"",label:"Submit"},null,8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Wr,{modelValue:e.holdSchedule,"onUpdate:modelValue":s[26]||(s[26]=s=>e.holdSchedule=s),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(Tr,{style:{"min-width":"350px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Cr,null,{default:(0,r.w5)((()=>[cr])),_:1}),(0,r.Wm)(Cr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r._)("div",nr,[_r,ur,mr,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.storeHoldSchedule,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s,class:"col-12 row"},[(0,r._)("div",pr,(0,o.zw)(e.from_time),1),(0,r._)("div",hr,(0,o.zw)(e.to_time),1),(0,r._)("div",wr,(0,o.zw)(e.datetime_created),1)])))),128))])])),_:1}),(0,r.Wm)(qr,{align:"right",class:"text-primary"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(fr,{flat:"",label:"Close"},null,512),[[Sr]]),(0,r.Wm)(fr,{loading:e.hubdecLoading,onClickCapture:s[25]||(s[25]=s=>(e.holdSchedule=!1,e.hubdecForm=!0,e.hubdec_mins=0)),flat:"",label:"HOLD FOR 60 MINS"},null,8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(Wr,{modelValue:e.alert,"onUpdate:modelValue":s[27]||(s[27]=s=>e.alert=s),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Wm)(Tr,{class:(0,o.C_)(e.alertColor+" text-white"),style:{width:"300px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(Cr,null,{default:(0,r.w5)((()=>[vr])),_:1}),(0,r.Wm)(Cr,{class:"q-pt-none"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.alertMessage),1)])),_:1}),(0,r.Wm)(qr,{align:"right",class:"bg-white text-teal"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(fr,{flat:"",label:"OK"},null,512),[[Sr]])])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])])}l(8964),l(9665),l(6727);var br=l(3100),kr=l(499),yr=l(3878),fr=l.n(yr),xr=new Date,jr=xr.getFullYear()+"-"+(xr.getMonth()+1)+"-"+xr.getDate();const Dr=(0,r.aZ)({name:"OrderMonitoring",computed:{...(0,br.Se)("Order",{orders:"GET_ORDERS",ordersLoading:"GET_ORDERS_LOADING",order:"GET_ORDER",orderLoading:"GET_ORDER_LOADING",carriers:"GET_CARRIERS",threshold:"GET_THRESHOLD",orderStatusLoading:"GET_ORDER_STATUS_LOADING"}),...(0,br.Se)("Grabex",{grabLoading:"GET_LOADING"}),...(0,br.Se)("Auth",{user:"GET_PROFILE"}),...(0,br.Se)("HubDec",{hubdecLoading:"GET_HUB_DEC_LOADING",isVerifiedPin:"GET_STORE_VERFIED",currentHubDec:"GET_CURRENT_HUB_DEC",storeHoldSchedule:"GET_HOLD_SCHEDULE"})},data:()=>({todate:jr,currentOrderId:-1,model:(0,kr.iH)(null),options:["In House","Loginext","Grab Express","Teleport","Panda Go"],dispatcher:"",ridername:"",carrier:{name:"",alias:""},date:[],hour:[],ampm:["AM","PM"],minute:[],receivedTime:{date:"",hour:"",ampm:"",minute:""},confirm:!1,received_time:"",orderFilter:"",ordersFiltered:[],invoice:!1,processTime:!1,hubdec_pin:null,hubdec_mins:60,hubdec:!1,hubdecForm:!1,hubdecAuthorizedBy:"",hubdecReason:"",holdSchedule:!1,alert:!1,alertMessage:"",alertColor:"bg-green",hideShow:"",optionsFn(e){return e>="2022/01/25"}}),async beforeMount(){this.initializeDateSelector(),await this.deliveryCarriers(),this.carrier=this.carriers[0],await this.getCurrentHubDec(),this.$q.platform.is.mobile&&this.order.hasOwnProperty("id")&&(console.log(this.order),this.checkMobileDesktop()),console.log(this.orders)},watch:{order:function(e){this.$q.platform.is.mobile&&e.hasOwnProperty("id")&&(console.log(e),this.checkMobileDesktop())}},methods:{...(0,br.nv)("Order",["orderMonitoring","orderDetails","deliveryCarriers","acknowledge","riderAssign","orderThreshold","riderOut","riderBack","updateOrderReceiveDatetime","orderClose"]),...(0,br.nv)("Grabex",["bookGrab","cancelGrabBooking"]),...(0,br.nv)("HubDec",["validateStorePin","getCurrentHubDec","setHubDec","getHoldSchedule"]),checkMobileDesktop(){this.$q.screen.width<=600&&(this.hideShow="show")},resetForm(){this.receivedTime={date:"",hour:"",minute:""},this.carrier={name:"",alias:""},this.ridername="",this.dispatcher=""},async verifyStore(){if(this.hubdec_pin)if(await this.validateStorePin(this.hubdec_pin),this.isVerifiedPin){if("HOLD"==this.currentHubDec.promised_time)return this.alert=!0,this.alertColor="bg-orange",void(this.alertMessage="Unable to change hub declaration. Please remove current store hold");0!=this.hubdec_mins?(this.hubdec=!1,this.hubdecReason="",this.hubdecAuthorizedBy="",this.hubdecForm=!0):(this.hubdec=!1,this.holdSchedule=!0,this.getHoldSchedule())}else this.alert=!0,this.alertColor="bg-red",this.alertMessage="Invalid Pin";else this.alert=!0,this.alertColor="bg-red",this.alertMessage="Please enter your pin number."},async submitHubDec(){""!=this.hubdecReason&&""!=this.hubdecAuthorizedBy?(await this.setHubDec({reason:this.hubdecReason,promised_time:0==this.hubdec_mins?"HOLD":this.hubdec_mins,authorized_by:this.hubdecAuthorizedBy}),await this.getCurrentHubDec(),this.hubdecReason="",this.hubdecAuthorizedBy="",this.hubdecForm=!1,this.alert=!0,this.alertColor="bg-green",this.alertMessage="Hub Declaration Successful!"):(this.alert=!0,this.alertColor="bg-red",this.alertMessage="Please fill up the field.")},combineOrderItemsName(e){var s="";return e.forEach(((l,r)=>{s+="X"+l.quantity+" "+l.name,r+1!=e.length&&(s+=", ")})),s},async updateOrderStatus(){switch(this.order.status){case 1:""==this.dispatcher?alert("Please fill up the field."):(this.acknowledge({id:this.order.id,acknowledged_by:this.dispatcher}),this.dispatcher="");break;case 2:"inhouse"==this.carrier.alias&&(""==this.ridername?alert("Please fill up the field."):(this.riderAssign({id:this.order.id,rider_name:this.riderName}),this.carrier={name:"",alias:""},this.riderName="")),"grabex"==this.carrier.alias&&(await this.bookGrab({order_id:this.order.id}),this.orderDetails({id:this.order.id,loading:!1}));break;case 8:await this.checkThreshold(3),this.threshold.allowed?this.riderOut({id:this.order.id}):alert("Threshold Time-out");break;case 3:await this.checkThreshold(4),this.threshold.allowed?this.riderBack({id:this.order.id}):alert("Threshold Time-out");break;case 4:var e=this.order.rider_out_datetime,s=this.order.rider_back_datetime,l=this.receivedTime.hour;"PM"==this.receivedTime.ampm&&this.receivedTime.hour<12?l+=12:l=this.receivedTime.hour;var r=this.receivedTime.date.split("/")[2]+"/"+this.receivedTime.date.split("/")[0]+"/"+this.receivedTime.date.split("/")[1];if(this.received_time=r.replaceAll("/","-")+" "+l+":"+this.receivedTime.minute+":00",""!=s){var o=this.check_crt(this.received_time,e);if(!o)return alert("INVALID:\nReceive time must be later than Rider Back"),!1;this.confirm=!0}break;default:break}},async checkThreshold(e){await this.orderThreshold({next_status:e,acknowledge_datetime:this.order.acknowledged_datetime,rider_out_datetime:this.order.rider_out_datetime,proximity:this.order.additional.travel_time_mins}).catch((e=>{console.log(e)}))},initializeDateSelector(){const e=(e,s)=>String(e).padStart(s,"0");for(let s=1;s<32;s++)this.date.push("2021-09-"+e(s,2));for(let s=0;s<12;s++)this.hour.push(s);for(let s=0;s<60;s++)this.minute.push(e(s,2))},check_crt(e,s){var l=e,r=l.split(" "),o=r[0].split("-"),a=r[1].split(":"),i=s,t=i.split(" "),d=t[0].split("-"),c=t[1].split(":"),n=new Date(d[0],d[1],d[2],c[0],c[1],0,0),_=new Date(o[0],o[1],o[2],a[0],a[1],0,0),u=_-n;return u>=0},order_color_coding(e,s,l,r,o){var a=1,i=5,t=26,d="";if(1==e&&0==r){if(parseInt(s)>a&&1==parseInt(l))return d="color_status_lapsed font_normal ",d;if(parseInt(s)<=a&&1==parseInt(l))return d="color_status_standard font_normal",d;if(parseInt(s)<=a&&0==parseInt(l))return d="color_status_standard font_bold font_italic",d;if(parseInt(s)>a&&0==parseInt(l))return d="color_status_lapsed font_bold font_italic",d}if(1==e&&1==r){if(0==parseInt(l)&&"NO"==o)return d="color_status_standard font_bold font_italic",d;if(0==parseInt(l)&&"YES"==o){if(parseInt(s)>a)return d="color_status_lapsed font_bold font_italic",d;if(parseInt(s)<=a)return d="color_status_standard font_bold font_italic",d}if(1==parseInt(l)&&"YES"==o){if(parseInt(s)>a)return d="color_status_lapsed font_normal",d;if(parseInt(s)<=a)return d="color_status_standard font_normal",d}if(1==parseInt(l)&&"NO"==o)return d="color_status_standard font_normal",d}if(2==e)if(1==parseInt(l)){if(parseInt(s)>i)return d="color_status_lapsed font_normal",d;if(parseInt(s)<=i)return d="color_status_standard font_normal",d}else{if(parseInt(s)>i)return d="color_status_lapsed font_bold",d;if(parseInt(s)<=i)return d="color_status_standard font_bold",d}if(3==e){if(parseInt(s)>t)return d="color_status_lapsed font_normal",d;if(parseInt(s)<=t)return d="color_status_standard font_normal",d}if(4==e)return d="color_status_rider_back font_normal",d;if(7==e)return d="color_status_pending font_normal",d;if(8==e){if(parseInt(s)>i)return d="color_status_lapsed font_normal",d;if(parseInt(s)<=i)return d="color_status_standard font_normal",d}},filterOrders(){let e=null;clearTimeout(e),e=setTimeout((()=>{if(""==this.orderFilter)this.ordersFiltered=[];else{var e=this.orders;e=e.filter((e=>{var s=e.customer.first_name+" "+e.customer.last_name;return e.customer.first_name.toLowerCase().includes(this.orderFilter.toLowerCase())||e.customer.last_name.toLowerCase().includes(this.orderFilter.toLowerCase())||s.toLowerCase().includes(this.orderFilter.toLowerCase())||e.status_text.toLowerCase().includes(this.orderFilter.toLowerCase())||e.order_pin.toLowerCase().includes(this.orderFilter.toLowerCase())||e.order_date.toLowerCase().includes(this.orderFilter.toLowerCase())||e.ao_text.toLowerCase().includes(this.orderFilter.toLowerCase())||e.service_method_text.toLowerCase().includes(this.orderFilter.toLowerCase())||e.price.includes(this.orderFilter)||e.change_for.includes(this.orderFilter)})),this.ordersFiltered=e}}),1e3)},optionsDate(e){var s=e.split(" ")[0];return console.log(s.replaceAll("/","-")),fr()(new Date(s)).format("YYYY/MM/DD")}}});var zr=l(1639),Cr=l(6611),qr=l(7691),Tr=l(261),Wr=l(4455),Vr=l(2259),Sr=l(2857),Ur=l(2765),Ir=l(2535),Or=l(2074),Pr=l(4458),Ar=l(3190),Rr=l(1821),Lr=l(1136),Er=l(2146),Fr=l(9984),Hr=l.n(Fr);const Gr=(0,zr.Z)(Dr,[["render",gr],["__scopeId","data-v-fb6a44da"]]),Mr=Gr;Hr()(Dr,"components",{QInput:Cr.Z,QChip:qr.Z,QSpinnerTail:Tr.Z,QBtn:Wr.Z,QSelect:Vr.Z,QIcon:Sr.Z,QPopupProxy:Ur.Z,QDate:Ir.Z,QDialog:Or.Z,QCard:Pr.Z,QCardSection:Ar.Z,QCardActions:Rr.Z}),Hr()(Dr,"directives",{Ripple:Lr.Z,ClosePopup:Er.Z})},6700:(e,s,l)=>{var r={"./af":202,"./af.js":202,"./ar":6314,"./ar-dz":5666,"./ar-dz.js":5666,"./ar-kw":6591,"./ar-kw.js":6591,"./ar-ly":7900,"./ar-ly.js":7900,"./ar-ma":5667,"./ar-ma.js":5667,"./ar-sa":4092,"./ar-sa.js":4092,"./ar-tn":1379,"./ar-tn.js":1379,"./ar.js":6314,"./az":1699,"./az.js":1699,"./be":8988,"./be.js":8988,"./bg":7437,"./bg.js":7437,"./bm":7947,"./bm.js":7947,"./bn":2851,"./bn-bd":4905,"./bn-bd.js":4905,"./bn.js":2851,"./bo":7346,"./bo.js":7346,"./br":1711,"./br.js":1711,"./bs":3706,"./bs.js":3706,"./ca":112,"./ca.js":112,"./cs":6406,"./cs.js":6406,"./cv":1853,"./cv.js":1853,"./cy":9766,"./cy.js":9766,"./da":6836,"./da.js":6836,"./de":9320,"./de-at":4904,"./de-at.js":4904,"./de-ch":6710,"./de-ch.js":6710,"./de.js":9320,"./dv":3274,"./dv.js":3274,"./el":286,"./el.js":286,"./en-au":143,"./en-au.js":143,"./en-ca":237,"./en-ca.js":237,"./en-gb":2428,"./en-gb.js":2428,"./en-ie":3349,"./en-ie.js":3349,"./en-il":3764,"./en-il.js":3764,"./en-in":7809,"./en-in.js":7809,"./en-nz":9851,"./en-nz.js":9851,"./en-sg":5594,"./en-sg.js":5594,"./eo":4483,"./eo.js":4483,"./es":2184,"./es-do":5777,"./es-do.js":5777,"./es-mx":9356,"./es-mx.js":9356,"./es-us":8496,"./es-us.js":8496,"./es.js":2184,"./et":7578,"./et.js":7578,"./eu":2092,"./eu.js":2092,"./fa":5927,"./fa.js":5927,"./fi":171,"./fi.js":171,"./fil":2416,"./fil.js":2416,"./fo":9937,"./fo.js":9937,"./fr":5172,"./fr-ca":8249,"./fr-ca.js":8249,"./fr-ch":7541,"./fr-ch.js":7541,"./fr.js":5172,"./fy":7907,"./fy.js":7907,"./ga":6361,"./ga.js":6361,"./gd":2282,"./gd.js":2282,"./gl":2630,"./gl.js":2630,"./gom-deva":680,"./gom-deva.js":680,"./gom-latn":6220,"./gom-latn.js":6220,"./gu":6272,"./gu.js":6272,"./he":5540,"./he.js":5540,"./hi":6067,"./hi.js":6067,"./hr":9669,"./hr.js":9669,"./hu":3396,"./hu.js":3396,"./hy-am":6678,"./hy-am.js":6678,"./id":4812,"./id.js":4812,"./is":4193,"./is.js":4193,"./it":7863,"./it-ch":959,"./it-ch.js":959,"./it.js":7863,"./ja":1809,"./ja.js":1809,"./jv":8657,"./jv.js":8657,"./ka":3290,"./ka.js":3290,"./kk":8418,"./kk.js":8418,"./km":7687,"./km.js":7687,"./kn":1375,"./kn.js":1375,"./ko":2641,"./ko.js":2641,"./ku":3518,"./ku.js":3518,"./ky":5459,"./ky.js":5459,"./lb":1978,"./lb.js":1978,"./lo":6915,"./lo.js":6915,"./lt":8948,"./lt.js":8948,"./lv":2548,"./lv.js":2548,"./me":8608,"./me.js":8608,"./mi":333,"./mi.js":333,"./mk":1876,"./mk.js":1876,"./ml":999,"./ml.js":999,"./mn":4098,"./mn.js":4098,"./mr":6111,"./mr.js":6111,"./ms":3717,"./ms-my":265,"./ms-my.js":265,"./ms.js":3717,"./mt":8980,"./mt.js":8980,"./my":6895,"./my.js":6895,"./nb":5348,"./nb.js":5348,"./ne":1493,"./ne.js":1493,"./nl":4419,"./nl-be":5576,"./nl-be.js":5576,"./nl.js":4419,"./nn":6907,"./nn.js":6907,"./oc-lnc":2321,"./oc-lnc.js":2321,"./pa-in":9239,"./pa-in.js":9239,"./pl":7627,"./pl.js":7627,"./pt":5703,"./pt-br":1623,"./pt-br.js":1623,"./pt.js":5703,"./ro":2747,"./ro.js":2747,"./ru":4420,"./ru.js":4420,"./sd":2148,"./sd.js":2148,"./se":2461,"./se.js":2461,"./si":2783,"./si.js":2783,"./sk":3306,"./sk.js":3306,"./sl":341,"./sl.js":341,"./sq":2768,"./sq.js":2768,"./sr":2451,"./sr-cyrl":3371,"./sr-cyrl.js":3371,"./sr.js":2451,"./ss":8812,"./ss.js":8812,"./sv":3820,"./sv.js":3820,"./sw":3615,"./sw.js":3615,"./ta":2869,"./ta.js":2869,"./te":2044,"./te.js":2044,"./tet":5861,"./tet.js":5861,"./tg":6999,"./tg.js":6999,"./th":1772,"./th.js":1772,"./tk":7443,"./tk.js":7443,"./tl-ph":9786,"./tl-ph.js":9786,"./tlh":2812,"./tlh.js":2812,"./tr":6952,"./tr.js":6952,"./tzl":9573,"./tzl.js":9573,"./tzm":5990,"./tzm-latn":6961,"./tzm-latn.js":6961,"./tzm.js":5990,"./ug-cn":2610,"./ug-cn.js":2610,"./uk":9498,"./uk.js":9498,"./ur":3970,"./ur.js":3970,"./uz":9006,"./uz-latn":26,"./uz-latn.js":26,"./uz.js":9006,"./vi":9962,"./vi.js":9962,"./x-pseudo":8407,"./x-pseudo.js":8407,"./yo":1962,"./yo.js":1962,"./zh-cn":8909,"./zh-cn.js":8909,"./zh-hk":4014,"./zh-hk.js":4014,"./zh-mo":996,"./zh-mo.js":996,"./zh-tw":6327,"./zh-tw.js":6327};function o(e){var s=a(e);return l(s)}function a(e){if(!l.o(r,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=6700}}]);